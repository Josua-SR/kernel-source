From ee8f537fd8b71c555d01a89e0834413bbf5373d4 Mon Sep 17 00:00:00 2001
From: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
Date: Fri, 13 Dec 2019 09:55:55 +0900
Subject: [PATCH] ASoC: soc-core: remove legacy style of codec_conf
Git-commit: ee8f537fd8b71c555d01a89e0834413bbf5373d4
Patch-mainline: v5.6-rc1
References: jsc#SLE-16518

Now all driver is using snd_soc_dai_link_component for codec_conf.
Let's remove legacy style

Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
Link: https://lore.kernel.org/r/871rt959ic.wl-kuninori.morimoto.gx@renesas.com
Reviewed-by: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Reviewed-by: Ranjani Sridharan <ranjani.sridharan@linux.intel.com>
Signed-off-by: Mark Brown <broonie@kernel.org>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 include/sound/soc.h  |    3 ---
 sound/soc/soc-core.c |    6 ------
 2 files changed, 9 deletions(-)

--- a/include/sound/soc.h
+++ b/include/sound/soc.h
@@ -960,9 +960,6 @@ struct snd_soc_codec_conf {
 	 * specify device either by device name, or by
 	 * DT/OF node, but not both.
 	 */
-	const char *dev_name;
-	struct device_node *of_node;
-
 	struct snd_soc_dai_link_component dlc;
 
 	/*
--- a/sound/soc/soc-core.c
+++ b/sound/soc/soc-core.c
@@ -1185,12 +1185,6 @@ static void soc_set_name_prefix(struct s
 	for (i = 0; i < card->num_configs; i++) {
 		struct snd_soc_codec_conf *map = &card->codec_conf[i];
 
-		/* fixme */
-		if (map->dev_name)
-			map->dlc.name = map->dev_name;
-		if (map->of_node)
-			map->dlc.of_node = map->of_node;
-
 		if (snd_soc_is_matching_component(&map->dlc, component)) {
 			component->name_prefix = map->name_prefix;
 			return;
