From: Gal Pressman <galp@mellanox.com>
Date: Tue, 23 Jan 2018 12:27:11 +0200
Subject: net/mlx5e: Use __set_bit for adaptive-moderation bit in RQ state
Patch-mainline: v4.18-rc1
Git-commit: af5a6c93656eec9a44617c77fae62af54d5a5061
References: bsc#1103990 FATE#326006

Make the code more clear by replacing the existing code with __set_bit.

Signed-off-by: Gal Pressman <galp@mellanox.com>
Signed-off-by: Tariq Toukan <tariqt@mellanox.com>
Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/net/ethernet/mellanox/mlx5/core/en_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/net/ethernet/mellanox/mlx5/core/en_main.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_main.c
@@ -820,7 +820,7 @@ static int mlx5e_open_rq(struct mlx5e_ch
 		goto err_destroy_rq;
 
 	if (params->rx_dim_enabled)
-		c->rq.state |= BIT(MLX5E_RQ_STATE_AM);
+		__set_bit(MLX5E_RQ_STATE_AM, &c->rq.state);
 
 	return 0;
 
