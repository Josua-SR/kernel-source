From: Pierre Morel <pmorel@linux.ibm.com>
Date: Tue, 28 Apr 2020 11:25:56 -0400
Subject: s390/pci: removes wrong PCI multifunction assignment
Git-commit: d1379279f2d6b407bd08324a170cb21928e69854
Patch-mainline: v5.8-rc1
References: jsc#SLE-13818 bsc#1177117 LTC#186574

The assignment of the PCI device multifunction attribute
is set during the PCI device probe.
There is no need to set it here.

Let's do it right and remove this assignment.

Signed-off-by: Pierre Morel <pmorel@linux.ibm.com>
Reviewed-by: Niklas Schnelle <schnelle@linux.ibm.com>
Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>
Acked-by: Petr Tesarik <ptesarik@suse.com>
---
 arch/s390/pci/pci_bus.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

--- a/arch/s390/pci/pci_bus.c
+++ b/arch/s390/pci/pci_bus.c
@@ -156,10 +156,8 @@ static int zpci_bus_add_device(struct zp
 	}
 
 	pdev = pci_scan_single_device(bus, zdev->devfn);
-	if (pdev) {
-		pdev->multifunction = 1;
+	if (pdev)
 		pci_bus_add_device(pdev);
-	}
 
 	return 0;
 }
