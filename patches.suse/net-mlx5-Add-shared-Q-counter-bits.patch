From: Leon Romanovsky <leonro@mellanox.com>
Date: Thu, 6 Dec 2018 14:40:11 +0200
Subject: net/mlx5: Add shared Q counter bits
Patch-mainline: v5.0-rc1
Git-commit: 2acc7957dbc354f3349261c2ebc6f56aff5829e7
References: bsc#1103991 FATE#326007

Updated HW specification file with needed bits to allow
sharing of Q counters between DEVX contexts and kernel.

Signed-off-by: Leon Romanovsky <leonro@mellanox.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 include/linux/mlx5/mlx5_ifc.h |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

--- a/include/linux/mlx5/mlx5_ifc.h
+++ b/include/linux/mlx5/mlx5_ifc.h
@@ -86,6 +86,10 @@ enum {
 };
 
 enum {
+	MLX5_SHARED_RESOURCE_UID = 0xffff,
+};
+
+enum {
 	MLX5_CMD_OP_QUERY_HCA_CAP                 = 0x100,
 	MLX5_CMD_OP_QUERY_ADAPTER                 = 0x101,
 	MLX5_CMD_OP_INIT_HCA                      = 0x102,
@@ -7464,7 +7468,7 @@ struct mlx5_ifc_alloc_q_counter_out_bits
 
 struct mlx5_ifc_alloc_q_counter_in_bits {
 	u8         opcode[0x10];
-	u8         reserved_at_10[0x10];
+	u8         uid[0x10];
 
 	u8         reserved_at_20[0x10];
 	u8         op_mod[0x10];
