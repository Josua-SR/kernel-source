From c6b6fc206586cc07a18595d2a3d815a806a057d0 Mon Sep 17 00:00:00 2001
From: Takashi Iwai <tiwai@suse.de>
Date: Sun, 24 Nov 2019 09:39:24 +0100
Subject: [PATCH] ALSA: aloop: Fix dependency on timer API
Git-commit: c6b6fc206586cc07a18595d2a3d815a806a057d0
Patch-mainline: v5.5-rc1
References: jsc#SLE-16518

An explicit Kconfig dependency is missing for the recent addition of
the timer support.  CONFIG_SND_TIMER isn't always selected by SND_PCM.

Fixes: 26c53379f98d ("ALSA: aloop: Support selection of snd_timer instead of jiffies")
Reported-by: kbuild test robot <lkp@intel.com>
Link: https://lore.kernel.org/r/20191124083924.14049-1-tiwai@suse.de
Signed-off-by: Takashi Iwai <tiwai@suse.de>

---
 sound/drivers/Kconfig | 1 +
 1 file changed, 1 insertion(+)

diff --git a/sound/drivers/Kconfig b/sound/drivers/Kconfig
index 15d6d46acf9c..577c8e03ec4d 100644
--- a/sound/drivers/Kconfig
+++ b/sound/drivers/Kconfig
@@ -92,6 +92,7 @@ config SND_DUMMY
 config SND_ALOOP
 	tristate "Generic loopback driver (PCM)"
 	select SND_PCM
+	select SND_TIMER
 	help
 	  Say 'Y' or 'M' to include support for the PCM loopback device.
 	  This module returns played samples back to the user space using
-- 
2.16.4

