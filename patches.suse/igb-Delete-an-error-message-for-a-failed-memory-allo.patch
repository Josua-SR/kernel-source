From: Markus Elfring <elfring@users.sourceforge.net>
Date: Mon, 1 Jan 2018 20:56:55 +0100
Subject: igb: Delete an error message for a failed memory allocation in
 igb_enable_sriov()
Patch-mainline: v4.16-rc1
Git-commit: 13169bad2b91cc37db5e0a9a9fa70e03bd1afd2d
References: bsc#1117495

Omit an extra message for a memory allocation failure in this function.

This issue was detected by using the Coccinelle software.

Signed-off-by: Markus Elfring <elfring@users.sourceforge.net>
Tested-by: Aaron Brown <aaron.f.brown@intel.com>
Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/net/ethernet/intel/igb/igb_main.c |    2 --
 1 file changed, 2 deletions(-)

--- a/drivers/net/ethernet/intel/igb/igb_main.c
+++ b/drivers/net/ethernet/intel/igb/igb_main.c
@@ -3216,8 +3216,6 @@ static int igb_enable_sriov(struct pci_d
 	/* if allocation failed then we do not support SR-IOV */
 	if (!adapter->vf_data) {
 		adapter->vfs_allocated_count = 0;
-		dev_err(&pdev->dev,
-			"Unable to allocate memory for VF Data Storage\n");
 		err = -ENOMEM;
 		goto out;
 	}
