From: Chuck Lever <chuck.lever@oracle.com>
Date: Tue, 4 Sep 2018 11:45:20 -0400
Subject: RDMA/core: Document QP @event_handler function
Patch-mainline: v4.20-rc1
Git-commit: eb93c82ed8c77f00955f2891483170194c3be92c
References: bsc#1103992 FATE#326009

Add helpful warning for RDMA consumer implementers.

Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 include/rdma/ib_verbs.h |    2 ++
 1 file changed, 2 insertions(+)

--- a/include/rdma/ib_verbs.h
+++ b/include/rdma/ib_verbs.h
@@ -1138,7 +1138,9 @@ enum ib_qp_create_flags {
  */
 
 struct ib_qp_init_attr {
+	/* Consumer's event_handler callback must not block */
 	void                  (*event_handler)(struct ib_event *, void *);
+
 	void		       *qp_context;
 	struct ib_cq	       *send_cq;
 	struct ib_cq	       *recv_cq;
