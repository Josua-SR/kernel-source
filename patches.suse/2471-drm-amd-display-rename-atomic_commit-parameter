From: Andrey Grodzovsky <Andrey.Grodzovsky@amd.com>
Date: Tue, 24 Jan 2017 17:28:50 -0500
Subject: drm/amd/display: Rename atomic_commit parameter.
Git-commit: 8fb234135027899e5a62e357baa7c43546a1d57b
Patch-mainline: v4.15-rc1
References: FATE#326289 FATE#326079 FATE#326049 FATE#322398 FATE#326166

This parameter name is misleading. It's previous
meaning confuses with ASYNC (immidiate flip)
which is totatlly different thing then nonblocking
commit.

Signed-off-by: Andrey Grodzovsky <Andrey.Grodzovsky@amd.com>
Reviewed-by: Harry Wentland <Harry.Wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Acked-by: Petr Tesarik <ptesarik@suse.com>
---
 drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_types.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

--- a/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_types.c
+++ b/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm_types.c
@@ -2253,7 +2253,7 @@ static void remove_stream(struct amdgpu_
 int amdgpu_dm_atomic_commit(
 	struct drm_device *dev,
 	struct drm_atomic_state *state,
-	bool async)
+	bool nonblock)
 {
 	struct amdgpu_device *adev = dev->dev_private;
 	struct amdgpu_display_manager *dm = &adev->dm;
@@ -2282,7 +2282,7 @@ int amdgpu_dm_atomic_commit(
 	 * we should not pin/unpin the fb here, it should be done in
 	 * amdgpu_crtc_flip and from the vblank irq handler.
 	 */
-	if (!async) {
+	if (!nonblock) {
 		ret = drm_atomic_helper_prepare_planes(dev, state);
 		if (ret)
 			return ret;
@@ -2620,7 +2620,7 @@ int amdgpu_dm_atomic_commit(
 	/* In this state all old framebuffers would be unpinned */
 
 	/* TODO: Revisit when we support true asynchronous commit.*/
-	if (!async)
+	if (!nonblock)
 		drm_atomic_helper_cleanup_planes(dev, state);
 
 	drm_atomic_state_put(state);
