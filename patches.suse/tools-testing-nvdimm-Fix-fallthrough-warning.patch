From 5518ba4ebd7d1e15fc558af05fa600198535f074 Mon Sep 17 00:00:00 2001
From: Dan Williams <dan.j.williams@intel.com>
Date: Wed, 7 Aug 2019 14:31:11 -0700
Subject: [PATCH] tools/testing/nvdimm: Fix fallthrough warning
Mime-version: 1.0
Content-type: text/plain; charset=UTF-8
Content-transfer-encoding: 8bit
Git-commit: 5518ba4ebd7d1e15fc558af05fa600198535f074
Patch-mainline: v5.4-rc1
References: bsc#1159523

Use the expected 'fall through' designation to fix:

    tools/testing/nvdimm/test/nfit.c: In function ‘nd_intel_test_finish_query’:
    tools/testing/nvdimm/test/nfit.c:433:13: warning: this statement may fall through [-Wimplicit-fallthrough=]
       fw->state = FW_STATE_UPDATED;
       ~~~~~~~~~~^~~~~~~~~~~~~~~~~~
    tools/testing/nvdimm/test/nfit.c:435:2: note: here
      case FW_STATE_UPDATED:
      ^~~~

Reviewed-by: Vishal Verma <vishal.l.verma@intel.com>
Link: https://lore.kernel.org/r/156521347159.1442374.1381360879102718899.stgit@dwillia2-desk3.amr.corp.intel.com
Signed-off-by: Dan Williams <dan.j.williams@intel.com>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 tools/testing/nvdimm/test/nfit.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/tools/testing/nvdimm/test/nfit.c b/tools/testing/nvdimm/test/nfit.c
index 507e6f4cbb53..bf6422a6af7f 100644
--- a/tools/testing/nvdimm/test/nfit.c
+++ b/tools/testing/nvdimm/test/nfit.c
@@ -428,10 +428,9 @@ static int nd_intel_test_finish_query(struct nfit_test *t,
 			dev_dbg(dev, "%s: still verifying\n", __func__);
 			break;
 		}
-
 		dev_dbg(dev, "%s: transition out verify\n", __func__);
 		fw->state = FW_STATE_UPDATED;
-		/* we are going to fall through if it's "done" */
+		/* fall through */
 	case FW_STATE_UPDATED:
 		nd_cmd->status = 0;
 		/* bogus test version */
-- 
2.16.4

