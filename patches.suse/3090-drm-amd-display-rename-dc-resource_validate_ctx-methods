From: Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>
Date: Mon, 28 Aug 2017 12:04:23 -0400
Subject: drm/amd/display: Rename dc resource_validate_ctx methods
Git-commit: f36cc577c3254738e370b553f9f8cedf2df84070
Patch-mainline: v4.15-rc1
References: FATE#326289 FATE#326079 FATE#326049 FATE#322398 FATE#326166

Rename dc_resource methods from validate_ctx to state

Signed-off-by: Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>
Reviewed-by: Tony Cheng <Tony.Cheng@amd.com>
Acked-by: Harry Wentland <Harry.Wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Acked-by: Petr Tesarik <ptesarik@suse.com>
---
 drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c |    2 +-
 drivers/gpu/drm/amd/display/dc/core/dc.c          |    6 +++---
 drivers/gpu/drm/amd/display/dc/core/dc_resource.c |    8 ++++----
 drivers/gpu/drm/amd/display/dc/dc.h               |    6 +++---
 4 files changed, 11 insertions(+), 11 deletions(-)

--- a/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c
+++ b/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c
@@ -4651,7 +4651,7 @@ int amdgpu_dm_atomic_check(struct drm_de
 
 	dm_state->context = dc_create_state();
 	ASSERT(dm_state->context);
-	dc_resource_validate_ctx_copy_construct_current(dc, dm_state->context);
+	dc_resource_state_copy_construct_current(dc, dm_state->context);
 
 	/* Remove exiting planes if they are modified */
 	ret = dm_update_planes_state(dc, state, false, &lock_and_validation_needed);
--- a/drivers/gpu/drm/amd/display/dc/core/dc.c
+++ b/drivers/gpu/drm/amd/display/dc/core/dc.c
@@ -1022,7 +1022,7 @@ void dc_release_state(struct dc_state *c
 	atomic_dec(&context->ref_count);
 
 	if (atomic_read(&context->ref_count) == 0) {
-		dc_resource_validate_ctx_destruct(context);
+		dc_resource_state_destruct(context);
 		dm_free(context);
 	}
 }
@@ -1292,7 +1292,7 @@ void dc_update_planes_and_stream(struct
 		if (context == NULL)
 				goto context_alloc_fail;
 
-		dc_resource_validate_ctx_copy_construct(
+		dc_resource_state_copy_construct(
 				dc->current_state, context);
 
 		/*remove old surfaces from context */
@@ -1635,7 +1635,7 @@ void dc_set_power_state(
 
 		/* Preserve refcount */
 		ref_count = dc->current_state->ref_count;
-		dc_resource_validate_ctx_destruct(dc->current_state);
+		dc_resource_state_destruct(dc->current_state);
 		memset(dc->current_state, 0,
 				sizeof(*dc->current_state));
 		dc->current_state->ref_count = ref_count;
--- a/drivers/gpu/drm/amd/display/dc/core/dc_resource.c
+++ b/drivers/gpu/drm/amd/display/dc/core/dc_resource.c
@@ -1707,11 +1707,11 @@ void validate_guaranteed_copy_streams(
 	}
 }
 
-void dc_resource_validate_ctx_copy_construct_current(
+void dc_resource_state_copy_construct_current(
 		const struct dc *dc,
 		struct dc_state *dst_ctx)
 {
-	dc_resource_validate_ctx_copy_construct(dc->current_state, dst_ctx);
+	dc_resource_state_copy_construct(dc->current_state, dst_ctx);
 }
 
 bool dc_validate_global_state(
@@ -2413,7 +2413,7 @@ static void set_vsc_info_packet(
 	/*TODO: stereo 3D support and extend pixel encoding colorimetry*/
 }
 
-void dc_resource_validate_ctx_destruct(struct dc_state *context)
+void dc_resource_state_destruct(struct dc_state *context)
 {
 	int i, j;
 
@@ -2432,7 +2432,7 @@ void dc_resource_validate_ctx_destruct(s
  * Copy src_ctx into dst_ctx and retain all surfaces and streams referenced
  * by the src_ctx
  */
-void dc_resource_validate_ctx_copy_construct(
+void dc_resource_state_copy_construct(
 		const struct dc_state *src_ctx,
 		struct dc_state *dst_ctx)
 {
--- a/drivers/gpu/drm/amd/display/dc/dc.h
+++ b/drivers/gpu/drm/amd/display/dc/dc.h
@@ -679,15 +679,15 @@ bool dc_validate_global_state(
  *   No hardware is programmed for call.  Only validation is done.
  */
 
-void dc_resource_validate_ctx_copy_construct(
+void dc_resource_state_copy_construct(
 		const struct dc_state *src_ctx,
 		struct dc_state *dst_ctx);
 
-void dc_resource_validate_ctx_copy_construct_current(
+void dc_resource_state_copy_construct_current(
 		const struct dc *dc,
 		struct dc_state *dst_ctx);
 
-void dc_resource_validate_ctx_destruct(struct dc_state *context);
+void dc_resource_state_destruct(struct dc_state *context);
 
 /*
  * TODO update to make it about validation sets
