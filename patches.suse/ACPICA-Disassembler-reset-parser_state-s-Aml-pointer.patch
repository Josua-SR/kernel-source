From: Erik Schmauss <erik.schmauss@intel.com>
Date: Fri, 17 Nov 2017 15:40:15 -0800
Subject: ACPICA: Disassembler: reset parser_state's Aml pointer when parsing
 bad externals
Patch-mainline: v4.16-rc1
Git-commit: 5c74663e20bca25fa37d4d488265367b8d6b975f
References: bsc#1117419

ACPICA commit e7e25137471d7f75960fdb8caf757db0426245ca

Link: https://github.com/acpica/acpica/commit/e7e25137
Signed-off-by: Erik Schmauss <erik.schmauss@intel.com>
Signed-off-by: Bob Moore <robert.moore@intel.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 drivers/acpi/acpica/psobject.c |    1 +
 1 file changed, 1 insertion(+)

--- a/drivers/acpi/acpica/psobject.c
+++ b/drivers/acpi/acpica/psobject.c
@@ -382,6 +382,7 @@ acpi_ps_create_op(struct acpi_walk_state
 			     walk_state->aml -
 			     walk_state->parser_state.aml_start);
 			walk_state->aml = walk_state->parser_state.aml + 2;
+			walk_state->parser_state.aml = walk_state->aml;
 			return_ACPI_STATUS(AE_CTRL_PARSE_CONTINUE);
 		}
 #endif
