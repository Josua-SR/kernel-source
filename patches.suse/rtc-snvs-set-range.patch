From: Alexandre Belloni <alexandre.belloni@bootlin.com>
Date: Wed, 28 Aug 2019 22:50:55 +0200
Subject: rtc: snvs: set range
Git-commit: 79610340cac8840ad67572ca13afae03265edae6
Patch-mainline: v5.4-rc1
References: jsc#SLE-16106

The SNVS is a 47-bit counter incremented at 32768Hz, it is then a 32-bit
second counter.

Link: https://lore.kernel.org/r/20190828205056.31321-1-alexandre.belloni@bootlin.com
Signed-off-by: Alexandre Belloni <alexandre.belloni@bootlin.com>
Acked-by: Nicolas Saenz Julienne <nsaenzjulienne@suse.de>
---
 drivers/rtc/rtc-snvs.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/rtc/rtc-snvs.c b/drivers/rtc/rtc-snvs.c
index 4f9a107a0427..50dd4b8492eb 100644
--- a/drivers/rtc/rtc-snvs.c
+++ b/drivers/rtc/rtc-snvs.c
@@ -348,6 +348,7 @@ static int snvs_rtc_probe(struct platform_device *pdev)
 	}
 
 	data->rtc->ops = &snvs_rtc_ops;
+	data->rtc->range_max = U32_MAX;
 	ret = rtc_register_device(data->rtc);
 	if (ret) {
 		dev_err(&pdev->dev, "failed to register rtc: %d\n", ret);

