From: Doug Ledford <dledford@redhat.com>
Date: Tue, 15 May 2018 15:54:46 -0400
Subject: RDMA/uapi: Fix uapi breakage
Patch-mainline: v4.18-rc1
Git-commit: 0d52d803767e9dfab91348fbc8de1dfd388565fd
References: bsc#1103992 FATE#326009

During this merge window, we added support for addition RDMA netlink
operations.  Unfortunately, we added the items in the middle of our uapi
enum.  Fix that before final release.

Fixes: da5c85078215 ("RDMA/nldev: add driver-specific resource
tracking")
Signed-off-by: Doug Ledford <dledford@redhat.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 include/uapi/rdma/rdma_netlink.h |   24 +++++++++++++-----------
 1 file changed, 13 insertions(+), 11 deletions(-)

--- a/include/uapi/rdma/rdma_netlink.h
+++ b/include/uapi/rdma/rdma_netlink.h
@@ -399,6 +399,18 @@ enum rdma_nldev_attr {
 	RDMA_NLDEV_ATTR_RES_LOCAL_DMA_LKEY,	/* u32 */
 	RDMA_NLDEV_ATTR_RES_UNSAFE_GLOBAL_RKEY,	/* u32 */
 	/*
+	 * Provides logical name and index of netdevice which is
+	 * connected to physical port. This information is relevant
+	 * for RoCE and iWARP.
+	 *
+	 * The netdevices which are associated with containers are
+	 * supposed to be exported together with GID table once it
+	 * will be exposed through the netlink. Because the
+	 * associated netdevices are properties of GIDs.
+	 */
+	RDMA_NLDEV_ATTR_NDEV_INDEX,		/* u32 */
+	RDMA_NLDEV_ATTR_NDEV_NAME,		/* string */
+	/*
 	 * driver-specific attributes.
 	 */
 	RDMA_NLDEV_ATTR_DRIVER,			/* nested table */
@@ -414,18 +426,8 @@ enum rdma_nldev_attr {
 	RDMA_NLDEV_ATTR_DRIVER_U64,		/* u64 */
 
 	/*
-	 * Provides logical name and index of netdevice which is
-	 * connected to physical port. This information is relevant
-	 * for RoCE and iWARP.
-	 *
-	 * The netdevices which are associated with containers are
-	 * supposed to be exported together with GID table once it
-	 * will be exposed through the netlink. Because the
-	 * associated netdevices are properties of GIDs.
+	 * Always the end
 	 */
-	RDMA_NLDEV_ATTR_NDEV_INDEX,		/* u32 */
-	RDMA_NLDEV_ATTR_NDEV_NAME,		/* string */
-
 	RDMA_NLDEV_ATTR_MAX
 };
 #endif /* _UAPI_RDMA_NETLINK_H */
