From: John Fastabend <john.fastabend@gmail.com>
Date: Tue, 15 Aug 2017 22:31:10 -0700
Subject: net: add sendmsg_locked and sendpage_locked to af_inet6
Patch-mainline: v4.14-rc1
Git-commit: 45f91bdcd5c5ba559a4bb7c3a0e0709476cf570f
References: bsc#1144162

To complete the sendmsg_locked and sendpage_locked implementation add
the hooks for af_inet6 as well.

Signed-off-by: John Fastabend <john.fastabend@gmail.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Michal Kubecek <mkubecek@suse.cz>

---
 net/ipv6/af_inet6.c | 2 ++
 1 file changed, 2 insertions(+)

--- a/net/ipv6/af_inet6.c
+++ b/net/ipv6/af_inet6.c
@@ -596,6 +596,8 @@ const struct proto_ops inet6_stream_ops = {
 	.recvmsg	   = inet_recvmsg,		/* ok		*/
 	.mmap		   = sock_no_mmap,
 	.sendpage	   = inet_sendpage,
+	.sendmsg_locked    = tcp_sendmsg_locked,
+	.sendpage_locked   = tcp_sendpage_locked,
 	.splice_read	   = tcp_splice_read,
 	.read_sock	   = tcp_read_sock,
 	.peek_len	   = tcp_peek_len,
