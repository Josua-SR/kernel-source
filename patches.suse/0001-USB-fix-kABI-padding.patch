From 7e9e6276b183375828d0dd04c8d01f81fc909e5d Mon Sep 17 00:00:00 2001
From: Oliver Neukum <oneukum@suse.com>
Date: Thu, 12 Dec 2019 15:20:48 +0100
Subject: [PATCH] USB: fix kABI padding
Patch-mainline: Never, kABI padding
References: jsc#SLE-8133

The kABI for standard USB was incomplete and broken at a few places

Signed-off-by: Oliver Neukum <oneukum@suse.com>
---
 include/linux/usb.h |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

--- a/include/linux/usb.h
+++ b/include/linux/usb.h
@@ -1241,6 +1241,7 @@ struct usb_device_driver {
 	int (*suspend) (struct usb_device *udev, pm_message_t message);
 	int (*resume) (struct usb_device *udev, pm_message_t message);
 	struct usbdrv_wrap drvwrap;
+	void *suse_kabi_padding;
 	unsigned int supports_autosuspend:1;
 };
 #define	to_usb_device_driver(d) container_of(d, struct usb_device_driver, \
@@ -1582,9 +1583,11 @@ struct urb {
 	int error_count;		/* (return) number of ISO errors */
 	void *context;			/* (in) context for completion */
 	usb_complete_t complete;	/* (in) completion routine */
+
+	void *suse_kabi_padding;
+
 	struct usb_iso_packet_descriptor iso_frame_desc[];
 					/* (in) ISO ONLY */
-	void *suse_kabi_padding;
 };
 
 /* ----------------------------------------------------------------------- */
