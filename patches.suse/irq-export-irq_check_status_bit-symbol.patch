From: Yun Levi <ppbuk5246@gmail.com>
Date: Wed, 6 Jan 2021 17:57:54 +0900
Subject: irq: export irq_check_status_bit symbol
Patch-mainline: Submitted - 2020-01-06 - CAM7-yPSa8kJkS2xm8w6hCgme7YmUOR8GBrx-kiQuUjGctF2QVw@mail.gmail.com
References: none

Because of the missing export symbol for irq_chekc_status_bit,
Building arm_spe_pmu.ko is a failure on the modpost step.

Below is an error message I saw:
ERROR:modpost: "irq_check_status_bit" [drivers/perf/arm_spe_pmu.ko] undefined!
make[4]: *** [scripts/Makefile.modpost:111: Module.symvers] Error 1
make[4]: *** Deleting file 'Module.symvers'
make[3]: *** [Makefile:1396: modules] Error 2
make[2]: *** [debian/rules:7: build-arch] Error 2
dpkg-buildpackage: error: debian/rules binary subprocess returned exit status 2
make[1]: *** [scripts/Makefile.package:83: bindeb-pkg] Error 2

Fixes: fdd029630434 ("genirq: Move status flag checks to core")
Signed-off-by: Levi Yun <ppbuk5246@gmail.com>
Acked-by: Michal Kubecek <mkubecek@suse.cz>
---
 kernel/irq/manage.c | 1 +
 1 file changed, 1 insertion(+)

--- a/kernel/irq/manage.c
+++ b/kernel/irq/manage.c
@@ -2859,3 +2859,4 @@ bool irq_check_status_bit(unsigned int irq, unsigned int bitmask)
 	rcu_read_unlock();
 	return res;
 }
+EXPORT_SYMBOL_GPL(irq_check_status_bit);
