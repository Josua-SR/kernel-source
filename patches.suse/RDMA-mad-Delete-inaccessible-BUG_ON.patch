From: Leon Romanovsky <leonro@mellanox.com>
Date: Tue, 29 May 2018 14:56:18 +0300
Subject: RDMA/mad: Delete inaccessible BUG_ON
Patch-mainline: v4.18-rc1
Git-commit: dee92c4bf53b2701d382ce9e32c57d194a393bfe
References: bsc#1103992 FATE#326009

There is no need to check existence of mad_queue, because we already did
pointer dereference before call to dequeue_mad().

Signed-off-by: Leon Romanovsky <leonro@mellanox.com>
Signed-off-by: Doug Ledford <dledford@redhat.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/infiniband/core/mad.c |    1 -
 1 file changed, 1 deletion(-)

--- a/drivers/infiniband/core/mad.c
+++ b/drivers/infiniband/core/mad.c
@@ -651,7 +651,6 @@ static void dequeue_mad(struct ib_mad_li
 	struct ib_mad_queue *mad_queue;
 	unsigned long flags;
 
-	BUG_ON(!mad_list->mad_queue);
 	mad_queue = mad_list->mad_queue;
 	spin_lock_irqsave(&mad_queue->lock, flags);
 	list_del(&mad_list->list);
