From: GuangZhe Fu <fugz1@lenovo.com>
Date: Mon, 1 Oct 2018 23:35:00 -0400
Subject: libnvdimm, namespace: Drop the repeat assignment for variable
 dev->parent
Git-commit: 55781b66936ee4e15cdd6d591b26662ab9d2d847
Patch-mainline: v4.20-rc1
References: FATE#326060

The variable dev-parent is assigned twice with the same &nd_region->dev.
I think we could drop the second one.

Signed-off-by: GuangZhe Fu <fugz1@lenovo.com>
Signed-off-by: Dan Williams <dan.j.williams@intel.com>
Acked-by: Johannes Thumshirn <jthumshirn@suse.de>
---
 drivers/nvdimm/namespace_devs.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/nvdimm/namespace_devs.c b/drivers/nvdimm/namespace_devs.c
index 4a4266250c28..681af3a8fd62 100644
--- a/drivers/nvdimm/namespace_devs.c
+++ b/drivers/nvdimm/namespace_devs.c
@@ -2099,7 +2099,6 @@ static struct device *nd_namespace_pmem_create(struct nd_region *nd_region)
 		return NULL;
 	}
 	dev_set_name(dev, "namespace%d.%d", nd_region->id, nspm->id);
-	dev->parent = &nd_region->dev;
 	dev->groups = nd_namespace_attribute_groups;
 	nd_namespace_pmem_set_resource(nd_region, nspm, 0);
 

