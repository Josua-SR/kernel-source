From: Jakub Sitnicki <jakub@cloudflare.com>
Date: Thu, 12 Dec 2019 11:22:52 +0100
Subject: selftests/bpf: Use sa_family_t everywhere in reuseport tests
Patch-mainline: v5.6-rc1
Git-commit: 11f80355d4d27c7c798fc9890b4056c5d98af992
References: bsc#1177028

Update the only function that is not using sa_family_t in this source file.

Signed-off-by: Jakub Sitnicki <jakub@cloudflare.com>
Signed-off-by: Alexei Starovoitov <ast@kernel.org>
Link: https://lore.kernel.org/bpf/20191212102259.418536-4-jakub@cloudflare.com
Acked-by: Gary Lin <glin@suse.com>
---
 tools/testing/selftests/bpf/test_select_reuseport.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

--- a/tools/testing/selftests/bpf/test_select_reuseport.c
+++ b/tools/testing/selftests/bpf/test_select_reuseport.c
@@ -643,7 +643,7 @@ static void prepare_sk_fds(int type, sa_
 	}
 }
 
-static void setup_per_test(int type, unsigned short family, bool inany)
+static void setup_per_test(int type, sa_family_t family, bool inany)
 {
 	int ovr = -1, err;
 
@@ -680,12 +680,12 @@ static void test_all(void)
 	const int types[] = { SOCK_STREAM, SOCK_DGRAM, SOCK_STREAM };
 	const char * const type_strings[] = { "TCP", "UDP", "TCP" };
 	const char * const family_strings[] = { "IPv6", "IPv4" };
-	const unsigned short families[] = { AF_INET6, AF_INET };
+	const sa_family_t families[] = { AF_INET6, AF_INET };
 	const bool bind_inany[] = { false, false, true };
 	int t, f, err;
 
 	for (f = 0; f < ARRAY_SIZE(families); f++) {
-		unsigned short family = families[f];
+		sa_family_t family = families[f];
 
 		for (t = 0; t < ARRAY_SIZE(types); t++) {
 			bool inany = bind_inany[t];
