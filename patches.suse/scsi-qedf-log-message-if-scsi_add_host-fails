From: Saurav Kashyap <skashyap@marvell.com>
Date: Sun, 21 Apr 2019 22:44:57 -0700
Subject: scsi: qedf: Log message if scsi_add_host fails
Git-commit: 249b148f3620577c923894dfab5a75cb59c024eb
Patch-mainline: v5.2-rc1
References: bsc#1136467 jsc#SLE-4694

Print message on scsi_add_host failure.

Signed-off-by: Saurav Kashyap <skashyap@marvell.com>
Signed-off-by: Chad Dupuis <cdupuis@marvell.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Acked-by: Lee Duncan <lduncan@suse.com>
---
 drivers/scsi/qedf/qedf_main.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

--- a/drivers/scsi/qedf/qedf_main.c
+++ b/drivers/scsi/qedf/qedf_main.c
@@ -3314,8 +3314,11 @@ static int __qedf_probe(struct pci_dev *
 		host->max_lun = qedf_max_lun;
 		host->max_cmd_len = QEDF_MAX_CDB_LEN;
 		rc = scsi_add_host(host, &pdev->dev);
-		if (rc)
+		if (rc) {
+			QEDF_WARN(&qedf->dbg_ctx,
+				  "Error adding Scsi_Host.\n");
 			goto err6;
+		}
 	}
 
 	memset(&params, 0, sizeof(params));
