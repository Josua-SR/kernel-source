From 30207d7b640cd27a814abbc657c911121160dc10 Mon Sep 17 00:00:00 2001
From: Himanshu Jha <himanshujha199640@gmail.com>
Date: Mon, 28 Aug 2017 16:15:32 +0530
Subject: [PATCH] staging: rtlwifi: remove memset before memcpy
Git-commit: 30207d7b640cd27a814abbc657c911121160dc10
Patch-mainline: v4.14-rc1
References: FATE#326887

calling memcpy immediately after memset with the same region of memory
makes memset redundant.

Signed-off-by: Himanshu Jha <himanshujha199640@gmail.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 drivers/staging/rtlwifi/base.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/drivers/staging/rtlwifi/base.c b/drivers/staging/rtlwifi/base.c
index 9a045c7d020c..b88b0e8edd3d 100644
--- a/drivers/staging/rtlwifi/base.c
+++ b/drivers/staging/rtlwifi/base.c
@@ -2558,7 +2558,6 @@ bool rtl_check_beacon_key(struct ieee80211_hw *hw, void *data, unsigned int len)
 
 	if (!cur_bcn_key->valid) {
 		/* update cur_beacon_keys */
-		memset(cur_bcn_key, 0, sizeof(bcn_key));
 		memcpy(cur_bcn_key, &bcn_key, sizeof(bcn_key));
 		cur_bcn_key->valid = true;
 
-- 
2.19.1

