From: Raghava Aditya Renukunta <RaghavaAditya.Renukunta@microsemi.com>
Date: Wed, 10 Jan 2018 13:13:09 -0800
Subject: scsi: aacraid: Get correct lun count
Patch-mainline: v4.16-rc1
Git-commit: bbd16d96d1ec531f6ad950d01b542422040033b8
References: FATE#325927

The correct lun count needs to be divided by 24, missed it in the
previous patch set.

Fixes: 4b00022753550055 (scsi: aacraid: Create helper functions to get lun info)
Signed-off-by: Raghava Aditya Renukunta <RaghavaAditya.Renukunta@microsemi.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Acked-by: Johannes Thumshirn <jthumshirn@suse.de>
---
 drivers/scsi/aacraid/aachba.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/scsi/aacraid/aachba.c
+++ b/drivers/scsi/aacraid/aachba.c
@@ -1865,7 +1865,7 @@ mem_free_all:
 
 static inline u32 aac_get_safw_phys_lun_count(struct aac_dev *dev)
 {
-	return get_unaligned_be32(&dev->safw_phys_luns->list_length[0]);
+	return get_unaligned_be32(&dev->safw_phys_luns->list_length[0])/24;
 }
 
 static inline u32 aac_get_safw_phys_bus(struct aac_dev *dev, int lun)
