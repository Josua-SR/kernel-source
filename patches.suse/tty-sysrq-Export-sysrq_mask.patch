From: Dmitry Safonov <dima@arista.com>
Date: Wed, 1 Apr 2020 15:39:04 +0100
Subject: tty/sysrq: Export sysrq_mask()
Patch-mainline: Submitted - 2020-04-01 - http://lkml.kernel.org/r/20200401143904.423450-1-dima@arista.com
References: none

Build fix for serial_core being module:
  ERROR: modpost: "sysrq_mask" [drivers/tty/serial/serial_core.ko] undefined!

Fixes: eaee41727e6d ("sysctl/sysrq: Remove __sysrq_enabled copy")
Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Cc: Jiri Slaby <jslaby@suse.com>
Reported-by: "kernelci.org bot" <bot@kernelci.org>
Reported-by: Michael Ellerman <mpe@ellerman.id.au>
Signed-off-by: Dmitry Safonov <dima@arista.com>
Acked-by: Michal Kubecek <mkubecek@suse.cz>
---
 drivers/tty/sysrq.c | 1 +
 1 file changed, 1 insertion(+)

--- a/drivers/tty/sysrq.c
+++ b/drivers/tty/sysrq.c
@@ -74,6 +74,7 @@ int sysrq_mask(void)
 		return 1;
 	return sysrq_enabled;
 }
+EXPORT_SYMBOL_GPL(sysrq_mask);
 
 /*
  * A value of 1 means 'all', other nonzero values are an op mask:
