From: Vijay Khemka <vijaykhemka@fb.com>
Date: Wed, 11 Dec 2019 11:01:55 -0800
Subject: drivers: ipmi: Modify max length of IPMB packet
Git-commit: 380665becdeeb4f455c23582b7f32e6b3cea27d2
Patch-mainline: Queued
Git-repo: git://github.com/cminyard/linux-ipmi.git
References: jsc#SLE-10262

As per IPMB specification, maximum packet size supported is 255,
modified Max length to 240 from 128 to accommodate more data.

Signed-off-by: Vijay Khemka <vijaykhemka@fb.com>
Message-Id: <20191211190155.1279610-1-vijaykhemka@fb.com>
Signed-off-by: Corey Minyard <cminyard@mvista.com>
Signed-off-by: Matthias Brugger <mbrugger@suse.com>
---
 drivers/char/ipmi/ipmb_dev_int.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/char/ipmi/ipmb_dev_int.c b/drivers/char/ipmi/ipmb_dev_int.c
index 86674292b213..9fdae83e59e0 100644
--- a/drivers/char/ipmi/ipmb_dev_int.c
+++ b/drivers/char/ipmi/ipmb_dev_int.c
@@ -19,7 +19,7 @@
 #include <linux/spinlock.h>
 #include <linux/wait.h>
 
-#define MAX_MSG_LEN		128
+#define MAX_MSG_LEN		240
 #define IPMB_REQUEST_LEN_MIN	7
 #define NETFN_RSP_BIT_MASK	0x4
 #define REQUEST_QUEUE_MAX_LEN	256
-- 
2.24.0

