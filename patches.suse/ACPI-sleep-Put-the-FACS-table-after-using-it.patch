From: Hanjun Guo <guohanjun@huawei.com>
Date: Thu, 7 May 2020 17:09:21 +0800
Subject: ACPI: sleep: Put the FACS table after using it
Patch-mainline: v5.8-rc1
Git-commit: 95722237cb2ae4f7b73471058cdb19e8f4057c93
References: jsc#SLE-16407

Put the FACS table after using it to release the table
mapping.

Signed-off-by: Hanjun Guo <guohanjun@huawei.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 drivers/acpi/sleep.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

--- a/drivers/acpi/sleep.c
+++ b/drivers/acpi/sleep.c
@@ -1290,8 +1290,10 @@ static void acpi_sleep_hibernate_setup(v
 		return;
 
 	acpi_get_table(ACPI_SIG_FACS, 1, (struct acpi_table_header **)&facs);
-	if (facs)
+	if (facs) {
 		s4_hardware_signature = facs->hardware_signature;
+		acpi_put_table((struct acpi_table_header *)facs);
+	}
 }
 #else /* !CONFIG_HIBERNATION */
 static inline void acpi_sleep_hibernate_setup(void) {}
