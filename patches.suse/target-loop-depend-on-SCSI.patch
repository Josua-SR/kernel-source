From: Christoph Hellwig <hch@lst.de>
Date: Tue, 7 Aug 2018 09:42:22 +0200
Subject: [PATCH] target/loop: depend on SCSI
Git-commit: e33e5c85763e8ac1899ec382c1ebc4603d8c52ae
Patch-mainline: v4.19-rc1
References: bsc#1104967,FATE#325924

The target loopback driver is a low-level driver for the SCSI subsystem,
and as such needs to depend on it.

Fixes: 8a39a047 ("target: don't depend on SCSI")
Signed-off-by: Christoph Hellwig <hch@lst.de>
Reported-by: Randy Dunlap <rdunlap@infradead.org>
Signed-off-by: Jens Axboe <axboe@kernel.dk>
Acked-by: Hannes Reinecke <hare@suse.com>
---
 drivers/target/loopback/Kconfig | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/target/loopback/Kconfig b/drivers/target/loopback/Kconfig
index abe8ecbcdf06..158ee9d522f7 100644
--- a/drivers/target/loopback/Kconfig
+++ b/drivers/target/loopback/Kconfig
@@ -1,5 +1,6 @@
 config LOOPBACK_TARGET
 	tristate "TCM Virtual SAS target and Linux/SCSI LDD fabric loopback module"
+	depends on SCSI
 	help
 	  Say Y here to enable the TCM Virtual SAS target and Linux/SCSI LLD
 	  fabric loopback module.
-- 
2.16.4

