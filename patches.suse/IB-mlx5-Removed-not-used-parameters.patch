From: Aviad Yehezkel <aviadye@mellanox.com>
Date: Wed, 31 Jan 2018 15:07:33 +0200
Subject: IB/mlx5: Removed not used parameters
Patch-mainline: v4.17-rc1
Git-commit: c33251a3c63395ae8b0ffe5acfe206e4c8bb35ee
References: bsc#1103991 FATE#326007

Signed-off-by: Aviad Yehezkel <aviadye@mellanox.com>
Signed-off-by: Saeed Mahameed <saeedm@mellanox.com>
Acked-by: Jason Gunthorpe <jgg@mellanox.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/infiniband/hw/mlx5/main.c |    2 --
 drivers/infiniband/hw/mlx5/qp.c   |    3 ---
 2 files changed, 5 deletions(-)

--- a/drivers/infiniband/hw/mlx5/main.c
+++ b/drivers/infiniband/hw/mlx5/main.c
@@ -4588,8 +4588,6 @@ int mlx5_ib_stage_init_init(struct mlx5_
 		goto err_free_port;
 
 	if (!mlx5_core_mp_enabled(mdev)) {
-		int i;
-
 		for (i = 1; i <= dev->num_ports; i++) {
 			err = get_port_caps(dev, i);
 			if (err)
--- a/drivers/infiniband/hw/mlx5/qp.c
+++ b/drivers/infiniband/hw/mlx5/qp.c
@@ -2167,7 +2167,6 @@ static struct ib_qp *mlx5_ib_create_dct(
 					struct ib_qp_init_attr *attr,
 					struct mlx5_ib_create_qp *ucmd)
 {
-	struct mlx5_ib_dev *dev;
 	struct mlx5_ib_qp *qp;
 	int err = 0;
 	u32 uidx = MLX5_IB_DEFAULT_UIDX;
@@ -2176,8 +2175,6 @@ static struct ib_qp *mlx5_ib_create_dct(
 	if (!attr->srq || !attr->recv_cq)
 		return ERR_PTR(-EINVAL);
 
-	dev = to_mdev(pd->device);
-
 	err = get_qp_user_index(to_mucontext(pd->uobject->context),
 				ucmd, sizeof(*ucmd), &uidx);
 	if (err)
