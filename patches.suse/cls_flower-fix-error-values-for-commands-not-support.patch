From: Jiri Pirko <jiri@mellanox.com>
Date: Sun, 24 Jun 2018 10:38:39 +0200
Subject: cls_flower: fix error values for commands not supported by drivers
Patch-mainline: v4.19-rc1
Git-commit: 246ab6f01efb808610535be34aab2de9325da6fa
References: bsc#1109837

-EOPNOTSUPP is the error value that should be reported if a flower
command is not supported by a driver. Fix it in couple of Intel drivers.

Signed-off-by: Jiri Pirko <jiri@mellanox.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/net/ethernet/intel/i40e/i40e_main.c     |    2 +-
 drivers/net/ethernet/intel/i40evf/i40evf_main.c |    2 +-
 drivers/net/ethernet/intel/igb/igb_main.c       |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

--- a/drivers/net/ethernet/intel/i40e/i40e_main.c
+++ b/drivers/net/ethernet/intel/i40e/i40e_main.c
@@ -7545,7 +7545,7 @@ static int i40e_setup_tc_cls_flower(stru
 	case TC_CLSFLOWER_STATS:
 		return -EOPNOTSUPP;
 	default:
-		return -EINVAL;
+		return -EOPNOTSUPP;
 	}
 }
 
--- a/drivers/net/ethernet/intel/i40evf/i40evf_main.c
+++ b/drivers/net/ethernet/intel/i40evf/i40evf_main.c
@@ -2906,7 +2906,7 @@ static int i40evf_setup_tc_cls_flower(st
 	case TC_CLSFLOWER_STATS:
 		return -EOPNOTSUPP;
 	default:
-		return -EINVAL;
+		return -EOPNOTSUPP;
 	}
 }
 
--- a/drivers/net/ethernet/intel/igb/igb_main.c
+++ b/drivers/net/ethernet/intel/igb/igb_main.c
@@ -2718,7 +2718,7 @@ static int igb_setup_tc_cls_flower(struc
 	case TC_CLSFLOWER_STATS:
 		return -EOPNOTSUPP;
 	default:
-		return -EINVAL;
+		return -EOPNOTSUPP;
 	}
 }
 
