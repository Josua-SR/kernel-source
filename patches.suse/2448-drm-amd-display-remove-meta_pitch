From: Dmytro Laktyushkin <Dmytro.Laktyushkin@amd.com>
Date: Tue, 17 Jan 2017 11:18:55 -0500
Subject: drm/amd/display: Remove meta_pitch
Git-commit: 031ec2764064d79b1e1d8c30a6785ed19184fb47
Patch-mainline: v4.15-rc1
References: FATE#326289 FATE#326079 FATE#326049 FATE#322398 FATE#326166

Signed-off-by: Dmytro Laktyushkin <Dmytro.Laktyushkin@amd.com>
Acked-by: Harry Wentland <Harry.Wentland@amd.com>
Reviewed-by: Tony Cheng <Tony.Cheng@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Acked-by: Petr Tesarik <ptesarik@suse.com>
---
 drivers/gpu/drm/amd/display/dc/core/dc_debug.c |    8 ++------
 drivers/gpu/drm/amd/display/dc/dc_hw_types.h   |    4 ----
 2 files changed, 2 insertions(+), 10 deletions(-)

--- a/drivers/gpu/drm/amd/display/dc/core/dc_debug.c
+++ b/drivers/gpu/drm/amd/display/dc/core/dc_debug.c
@@ -94,14 +94,12 @@ void pre_surface_trace(
 				"surface->plane_size.grph.surface_size.y = %d;\n"
 				"surface->plane_size.grph.surface_size.width = %d;\n"
 				"surface->plane_size.grph.surface_size.height = %d;\n"
-				"surface->plane_size.grph.surface_pitch = %d;\n"
-				"surface->plane_size.grph.meta_pitch = %d;\n",
+				"surface->plane_size.grph.surface_pitch = %d;\n",
 				surface->plane_size.grph.surface_size.x,
 				surface->plane_size.grph.surface_size.y,
 				surface->plane_size.grph.surface_size.width,
 				surface->plane_size.grph.surface_size.height,
-				surface->plane_size.grph.surface_pitch,
-				surface->plane_size.grph.meta_pitch);
+				surface->plane_size.grph.surface_pitch);
 
 
 		SURFACE_TRACE(
@@ -176,7 +174,6 @@ void update_surface_trace(
 			SURFACE_TRACE(
 					"plane_info->color_space = %d;\n"
 					"plane_info->format = %d;\n"
-					"plane_info->plane_size.grph.meta_pitch = %d;\n"
 					"plane_info->plane_size.grph.surface_pitch = %d;\n"
 					"plane_info->plane_size.grph.surface_size.height = %d;\n"
 					"plane_info->plane_size.grph.surface_size.width = %d;\n"
@@ -185,7 +182,6 @@ void update_surface_trace(
 					"plane_info->rotation = %d;\n",
 					update->plane_info->color_space,
 					update->plane_info->format,
-					update->plane_info->plane_size.grph.meta_pitch,
 					update->plane_info->plane_size.grph.surface_pitch,
 					update->plane_info->plane_size.grph.surface_size.height,
 					update->plane_info->plane_size.grph.surface_size.width,
--- a/drivers/gpu/drm/amd/display/dc/dc_hw_types.h
+++ b/drivers/gpu/drm/amd/display/dc/dc_hw_types.h
@@ -123,8 +123,6 @@ union plane_size {
 		 * is 32 pixel aligned.
 		 */
 		uint32_t surface_pitch;
-
-		uint32_t meta_pitch;
 	} grph;
 
 	struct {
@@ -134,7 +132,6 @@ union plane_size {
 		 * 32 pixel aligned.
 		 */
 		uint32_t luma_pitch;
-		uint32_t meta_luma_pitch;
 
 		struct rect chroma_size;
 		/* Graphic surface pitch in pixels.
@@ -142,7 +139,6 @@ union plane_size {
 		 * 32 pixel aligned.
 		 */
 		uint32_t chroma_pitch;
-		uint32_t meta_chroma_pitch;
 	} video;
 };
 
