From b50d8745e1668360537f15daeb4a6f4cf30fea98 Mon Sep 17 00:00:00 2001
From: Michal Suchanek <msuchanek@suse.de>
Date: Fri, 6 Nov 2020 14:15:09 +0100
Subject: [PATCH 2/2] ext4: show the dax option in mount options

References: bsc#1178366
Patch-mainline: submitted https://lore.kernel.org/lkml/cover.1604948373.git.msuchanek@suse.de/T/#t

ext4 accepts both dax and dax_always option but shows only dax_always.
Show both options.

Signed-off-by: Michal Suchanek <msuchanek@suse.de>
---
 fs/ext4/super.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/fs/ext4/super.c b/fs/ext4/super.c
index ef4734b40e2a..7656c519cbe6 100644
--- a/fs/ext4/super.c
+++ b/fs/ext4/super.c
@@ -2647,7 +2647,7 @@ static int _ext4_show_options(struct seq_file *seq, struct super_block *sb,
 		if (IS_EXT2_SB(sb))
 			SEQ_OPTS_PUTS("dax");
 		else
-			SEQ_OPTS_PUTS("dax=always");
+			SEQ_OPTS_PUTS("dax,dax=always");
 	} else if (test_opt2(sb, DAX_NEVER)) {
 		SEQ_OPTS_PUTS("dax=never");
 	} else if (test_opt2(sb, DAX_INODE)) {
-- 
2.29.1

