From: Yongqiang Sun <yongqiang.sun@amd.com>
Date: Wed, 14 Dec 2016 16:05:22 -0500
Subject: drm/amd/display: Resolved HDMI assert in dal
Git-commit: b90a2b23edeb1f5181c7baf0ecd305c7e6ab20b4
Patch-mainline: v4.15-rc1
References: FATE#326289 FATE#326079 FATE#326049 FATE#322398 FATE#326166

Signed-off-by: Yongqiang Sun <yongqiang.sun@amd.com>
Reviewed-by: Tony Cheng <Tony.Cheng@amd.com>
Acked-by: Harry Wentland <Harry.Wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Acked-by: Petr Tesarik <ptesarik@suse.com>
---
 drivers/gpu/drm/amd/display/dc/dce/dce_stream_encoder.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

--- a/drivers/gpu/drm/amd/display/dc/dce/dce_stream_encoder.c
+++ b/drivers/gpu/drm/amd/display/dc/dce/dce_stream_encoder.c
@@ -94,12 +94,12 @@ static void dce110_update_generic_info_p
 		/* poll dig_update_lock is not locked -> asic internal signal
 		 * assume otg master lock will unlock it
 		 */
-		REG_WAIT(AFMT_VBI_PACKET_CONTROL, AFMT_GENERIC_LOCK_STATUS,
-				1, 10, max_retries);
+/*		REG_WAIT(AFMT_VBI_PACKET_CONTROL, AFMT_GENERIC_LOCK_STATUS,
+				0, 10, max_retries);*/
 
 		/* check if HW reading GSP memory */
 		REG_WAIT(AFMT_VBI_PACKET_CONTROL, AFMT_GENERIC_CONFLICT,
-				1, 10, max_retries);
+				0, 10, max_retries);
 
 		/* HW does is not reading GSP memory not reading too long ->
 		 * something wrong. clear GPS memory access and notify?
