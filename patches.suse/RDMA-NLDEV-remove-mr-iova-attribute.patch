From: Steve Wise <swise@opengridcomputing.com>
Date: Tue, 15 May 2018 11:19:30 -0700
Subject: RDMA/NLDEV: remove mr iova attribute
Patch-mainline: v4.18-rc1
Git-commit: e6125a254d7d2af806752c9b776d1ff4b565ce2e
References: bsc#1103992 FATE#326009

Remove mr iova attribute because we don't want to pass up kernel pointers.

Fixes: fccec5b89ac6 ("RDMA/nldev: provide detailed MR information")
Signed-off-by: Steve Wise <swise@opengridcomputing.com>
Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/infiniband/core/nldev.c |    3 ---
 1 file changed, 3 deletions(-)

--- a/drivers/infiniband/core/nldev.c
+++ b/drivers/infiniband/core/nldev.c
@@ -535,9 +535,6 @@ static int fill_res_mr_entry(struct sk_b
 			goto err;
 		if (nla_put_u32(msg, RDMA_NLDEV_ATTR_RES_LKEY, mr->lkey))
 			goto err;
-		if (nla_put_u64_64bit(msg, RDMA_NLDEV_ATTR_RES_IOVA,
-				      mr->iova, RDMA_NLDEV_ATTR_PAD))
-			goto err;
 	}
 
 	if (nla_put_u64_64bit(msg, RDMA_NLDEV_ATTR_RES_MRLEN, mr->length,
