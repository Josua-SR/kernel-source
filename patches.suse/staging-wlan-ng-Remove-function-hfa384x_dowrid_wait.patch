From 83c23c8e79ee85c0e7f71844a50aab0c1156a788 Mon Sep 17 00:00:00 2001
From: Nishka Dasgupta <nishkadg.linux@gmail.com>
Date: Fri, 12 Jul 2019 11:57:59 +0530
Subject: [PATCH] staging: wlan-ng: Remove function hfa384x_dowrid_wait()
Git-commit: 83c23c8e79ee85c0e7f71844a50aab0c1156a788
Patch-mainline: v5.4-rc1
References: jsc#SLE-13430

Remove inline function hfa384x_dowrid_wait as it is only called once (in
hfa384x_drvr_setconfig) and its contents are only a single line (a call
to hfa384x_dowrid).
Replace the call to hfa384x_dowrid_wait with its contents i.e the call
to hfa384x_dowrid.
Issue found with Coccinelle.

Signed-off-by: Nishka Dasgupta <nishkadg.linux@gmail.com>
Link: https://lore.kernel.org/r/20190712062807.9361-2-nishkadg.linux@gmail.com
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 drivers/staging/wlan-ng/hfa384x_usb.c | 10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

diff --git a/drivers/staging/wlan-ng/hfa384x_usb.c b/drivers/staging/wlan-ng/hfa384x_usb.c
index 4befc615d8e2..dc6abc654165 100644
--- a/drivers/staging/wlan-ng/hfa384x_usb.c
+++ b/drivers/staging/wlan-ng/hfa384x_usb.c
@@ -845,14 +845,6 @@ hfa384x_dorrid_async(struct hfa384x *hw,
 			      cmdcb, usercb, usercb_data);
 }
 
-static inline int
-hfa384x_dowrid_wait(struct hfa384x *hw, u16 rid, void *riddata,
-		    unsigned int riddatalen)
-{
-	return hfa384x_dowrid(hw, DOWAIT,
-			      rid, riddata, riddatalen, NULL, NULL, NULL);
-}
-
 static inline int
 hfa384x_dowrid_async(struct hfa384x *hw,
 		     u16 rid, void *riddata, unsigned int riddatalen,
@@ -2414,7 +2406,7 @@ int hfa384x_drvr_readpda(struct hfa384x *hw, void *buf, unsigned int len)
  */
 int hfa384x_drvr_setconfig(struct hfa384x *hw, u16 rid, void *buf, u16 len)
 {
-	return hfa384x_dowrid_wait(hw, rid, buf, len);
+	return hfa384x_dowrid(hw, DOWAIT, rid, buf, len, NULL, NULL, NULL);
 }
 
 /*----------------------------------------------------------------
-- 
2.16.4

