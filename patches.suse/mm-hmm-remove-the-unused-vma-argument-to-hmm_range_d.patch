From: Christoph Hellwig <hch@lst.de>
Date: Tue, 6 Aug 2019 19:05:43 +0300
Subject: mm/hmm: remove the unused vma argument to hmm_range_dma_unmap
Patch-mainline: v5.4-rc1
Git-commit: 2cbeb41913e639890bf2c6485d7bdc6a25fdfd56
References: jsc#SLE-15176, jsc#SLE-16387

Link: https://lore.kernel.org/r/20190806160554.14046-6-hch@lst.de
Signed-off-by: Christoph Hellwig <hch@lst.de>
Reviewed-by: Jason Gunthorpe <jgg@mellanox.com>
Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 include/linux/hmm.h |    1 -
 mm/hmm.c            |    2 --
 2 files changed, 3 deletions(-)

--- a/include/linux/hmm.h
+++ b/include/linux/hmm.h
@@ -456,7 +456,6 @@ long hmm_range_dma_map(struct hmm_range
 		       dma_addr_t *daddrs,
 		       unsigned int flags);
 long hmm_range_dma_unmap(struct hmm_range *range,
-			 struct vm_area_struct *vma,
 			 struct device *device,
 			 dma_addr_t *daddrs,
 			 bool dirty);
--- a/mm/hmm.c
+++ b/mm/hmm.c
@@ -1129,7 +1129,6 @@ EXPORT_SYMBOL(hmm_range_dma_map);
 /**
  * hmm_range_dma_unmap() - unmap range of that was map with hmm_range_dma_map()
  * @range: range being unmapped
- * @vma: the vma against which the range (optional)
  * @device: device against which dma map was done
  * @daddrs: dma address of mapped pages
  * @dirty: dirty page if it had the write flag set
@@ -1141,7 +1140,6 @@ EXPORT_SYMBOL(hmm_range_dma_map);
  * concurrent mmu notifier or sync_cpu_device_pagetables() to make progress.
  */
 long hmm_range_dma_unmap(struct hmm_range *range,
-			 struct vm_area_struct *vma,
 			 struct device *device,
 			 dma_addr_t *daddrs,
 			 bool dirty)
