From 12fafbc58d8256375d34bfb7b70eabb4a558d15f Mon Sep 17 00:00:00 2001
From: Chris Wilson <chris@chris-wilson.co.uk>
Date: Wed, 25 Mar 2020 14:07:54 +0000
Subject: drm/i915/display: Return early after MISSING_CASE for write_dp_sdp
Git-commit: d121f63c00e3b82f2e72b1db0de3e233c2ba2126
Patch-mainline: v5.8-rc1
References: jsc#SLE-12680, jsc#SLE-12880, jsc#SLE-12882, jsc#SLE-12883, jsc#SLE-13496, jsc#SLE-15322

Avoid using the uninitialised len along the impossible error path to
shut the compiler up:

drivers/gpu/drm/i915/display/intel_dp.c:4928 intel_write_dp_sdp() error: uninitialized symbol 'len'.

Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk>
Reviewed-by: Jani Nikula <jani.nikula@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20200325140754.12636-1-chris@chris-wilson.co.uk
Signed-off-by: Patrik Jakobsson <pjakobsson@suse.de>
---
 drivers/gpu/drm/i915/display/intel_dp.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/gpu/drm/i915/display/intel_dp.c b/drivers/gpu/drm/i915/display/intel_dp.c
index ce4c908bd8d0..badd4728a073 100644
--- a/drivers/gpu/drm/i915/display/intel_dp.c
+++ b/drivers/gpu/drm/i915/display/intel_dp.c
@@ -4919,7 +4919,7 @@ static void intel_write_dp_sdp(struct intel_encoder *encoder,
 		break;
 	default:
 		MISSING_CASE(type);
-		break;
+		return;
 	}
 
 	if (drm_WARN_ON(&dev_priv->drm, len < 0))
-- 
2.28.0

