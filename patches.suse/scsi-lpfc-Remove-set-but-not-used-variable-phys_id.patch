From: YueHaibing <yuehaibing@huawei.com>
Date: Thu, 14 Feb 2019 01:51:52 +0000
Subject: [PATCH] scsi: lpfc: Remove set but not used variable 'phys_id'
References: bsc#1136217,jsc#SLE-4722
Git-commit: 59e54d9aabc411e7d8628622526f38fad4a19b28
Patch-mainline: v5.1-rc1

Fixes gcc '-Wunused-but-set-variable' warning:

drivers/scsi/lpfc/lpfc_init.c: In function 'lpfc_cpu_affinity_check':
drivers/scsi/lpfc/lpfc_init.c:10599:19: warning:
 variable 'phys_id' set but not used [-Wunused-but-set-variable]

It never used since introduction in commit 6a828b0f6192 ("scsi: lpfc:
Support non-uniform allocation of MSIX vectors to hardware queues")

Signed-off-by: YueHaibing <yuehaibing@huawei.com>
Acked-by: James Smart <james.smart@broadcom.com>
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Hannes Reinecke <hare@suse.de>
---
 drivers/scsi/lpfc/lpfc_init.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/drivers/scsi/lpfc/lpfc_init.c b/drivers/scsi/lpfc/lpfc_init.c
index 40ab373d1d87..b106082047f6 100644
--- a/drivers/scsi/lpfc/lpfc_init.c
+++ b/drivers/scsi/lpfc/lpfc_init.c
@@ -10608,7 +10608,7 @@ lpfc_find_hyper(struct lpfc_hba *phba, int cpu,
 static void
 lpfc_cpu_affinity_check(struct lpfc_hba *phba, int vectors)
 {
-	int i, cpu, idx, phys_id;
+	int i, cpu, idx;
 	int max_phys_id, min_phys_id;
 	int max_core_id, min_core_id;
 	struct lpfc_vector_map_info *cpup;
@@ -10626,7 +10626,6 @@ lpfc_cpu_affinity_check(struct lpfc_hba *phba, int vectors)
 	min_phys_id = 0xffff;
 	max_core_id = 0;
 	min_core_id = 0xffff;
-	phys_id = 0;
 
 	/* Update CPU map with physical id and core id of each CPU */
 	for_each_present_cpu(cpu) {
-- 
2.16.4

