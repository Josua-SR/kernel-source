From: Oliver Neukum <oneukum@suse.com>
Date: Tue, 13 Aug 2019 14:04:11 +0200
Subject: zd1211rw: remove false assertion from zd_mac_clear()
Git-commit: 7a2eb7367fdea72e448d1a847aa857f6caf8ea2f
Patch-mainline: 5.4-rc1
References: bnc#1151927 5.3.4

The function is called before the lock which is asserted was ever used.
Just remove it.

Reported-by: syzbot+74c65761783d66a9c97c@syzkaller.appspotmail.com
Signed-off-by: Oliver Neukum <oneukum@suse.com>
Signed-off-by: Kalle Valo <kvalo@codeaurora.org>
Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 drivers/net/wireless/zydas/zd1211rw/zd_mac.c |    1 -
 1 file changed, 1 deletion(-)

--- a/drivers/net/wireless/zydas/zd1211rw/zd_mac.c
+++ b/drivers/net/wireless/zydas/zd1211rw/zd_mac.c
@@ -223,7 +223,6 @@ void zd_mac_clear(struct zd_mac *mac)
 {
 	flush_workqueue(zd_workqueue);
 	zd_chip_clear(&mac->chip);
-	lockdep_assert_held(&mac->lock);
 	ZD_MEMCLEAR(mac, sizeof(struct zd_mac));
 }
 
