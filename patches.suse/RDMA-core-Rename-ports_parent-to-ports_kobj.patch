From: Parav Pandit <parav@mellanox.com>
Date: Sun, 7 Oct 2018 12:12:41 +0300
Subject: RDMA/core: Rename ports_parent to ports_kobj
Patch-mainline: v4.20-rc1
Git-commit: 1ae4cfa03902c83d1d77123e5ac8f0812c61b90e
References: bsc#1103992 FATE#326009

Normally kobj objects have kobj suffix to reflect it.
Rename ports_parent to ports_kobj.

Signed-off-by: Parav Pandit <parav@mellanox.com>
Signed-off-by: Leon Romanovsky <leonro@mellanox.com>
Signed-off-by: Doug Ledford <dledford@redhat.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/infiniband/core/sysfs.c |    9 ++++-----
 include/rdma/ib_verbs.h         |    2 +-
 2 files changed, 5 insertions(+), 6 deletions(-)

--- a/drivers/infiniband/core/sysfs.c
+++ b/drivers/infiniband/core/sysfs.c
@@ -1036,7 +1036,7 @@ static int add_port(struct ib_device *de
 	p->port_num   = port_num;
 
 	ret = kobject_init_and_add(&p->kobj, &port_type,
-				   device->ports_parent,
+				   device->ports_kobj,
 				   "%d", port_num);
 	if (ret) {
 		kfree(p);
@@ -1305,7 +1305,7 @@ static void free_port_list_attributes(st
 		kobject_put(p);
 	}
 
-	kobject_put(device->ports_parent);
+	kobject_put(device->ports_kobj);
 }
 
 int ib_device_register_sysfs(struct ib_device *device,
@@ -1323,9 +1323,8 @@ int ib_device_register_sysfs(struct ib_d
 	if (ret)
 		goto err;
 
-	device->ports_parent = kobject_create_and_add("ports",
-						      &class_dev->kobj);
-	if (!device->ports_parent) {
+	device->ports_kobj = kobject_create_and_add("ports", &class_dev->kobj);
+	if (!device->ports_kobj) {
 		ret = -ENOMEM;
 		goto err_put;
 	}
--- a/include/rdma/ib_verbs.h
+++ b/include/rdma/ib_verbs.h
@@ -2559,7 +2559,7 @@ struct ib_device {
 	/* First group for device attributes, NULL terminated array */
 	const struct attribute_group	*groups[2];
 
-	struct kobject               *ports_parent;
+	struct kobject			*ports_kobj;
 	struct list_head             port_list;
 
 	enum {
