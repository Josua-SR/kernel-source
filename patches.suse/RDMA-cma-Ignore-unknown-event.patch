From: Leon Romanovsky <leonro@mellanox.com>
Date: Tue, 29 May 2018 14:56:17 +0300
Subject: RDMA/cma: Ignore unknown event
Patch-mainline: v4.18-rc1
Git-commit: 671a6cc2ba05aa97ee5afe3479f1bdba2436970d
References: bsc#1103992 FATE#326009

There is no need to bring down the whole machine, just because unknown
event was received. It is better to ignore it silently.

Signed-off-by: Leon Romanovsky <leonro@mellanox.com>
Signed-off-by: Doug Ledford <dledford@redhat.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/infiniband/core/cma.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/infiniband/core/cma.c
+++ b/drivers/infiniband/core/cma.c
@@ -2130,7 +2130,7 @@ static int cma_iw_handler(struct iw_cm_i
 		event.param.conn.responder_resources = iw_event->ord;
 		break;
 	default:
-		BUG_ON(1);
+		goto out;
 	}
 
 	event.status = iw_event->status;
