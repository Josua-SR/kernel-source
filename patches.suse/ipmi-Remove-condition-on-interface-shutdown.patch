From 8d17929ad50f2c9d4cf55e8f3eb249a60f429a0d Mon Sep 17 00:00:00 2001
From: Corey Minyard <cminyard@mvista.com>
Date: Thu, 5 Apr 2018 22:07:33 -0500
Subject: [PATCH] ipmi: Remove condition on interface shutdown
Git-commit: 8d17929ad50f2c9d4cf55e8f3eb249a60f429a0d
Patch-mainline: v4.18-rc1
References: FATE#326156

Now that the interfaces have shutdown handlers, this no longer
needs to be conditional.

Signed-off-by: Corey Minyard <cminyard@mvista.com>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 drivers/char/ipmi/ipmi_msghandler.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/drivers/char/ipmi/ipmi_msghandler.c b/drivers/char/ipmi/ipmi_msghandler.c
index a27b50ac2b7f..7ddadab65f33 100644
--- a/drivers/char/ipmi/ipmi_msghandler.c
+++ b/drivers/char/ipmi/ipmi_msghandler.c
@@ -3744,8 +3744,7 @@ int ipmi_unregister_smi(struct ipmi_smi *intf)
 	}
 	srcu_read_unlock(&intf->users_srcu, index);
 
-	if (intf->handlers->shutdown)
-		intf->handlers->shutdown(intf->send_info);
+	intf->handlers->shutdown(intf->send_info);
 
 	cleanup_smi_msgs(intf);
 
-- 
2.19.2

