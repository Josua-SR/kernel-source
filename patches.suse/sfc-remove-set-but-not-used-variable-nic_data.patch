From: YueHaibing <yuehaibing@huawei.com>
Date: Fri, 10 Jan 2020 06:09:08 +0000
Subject: sfc: remove set but not used variable 'nic_data'
Patch-mainline: v5.6-rc1
Git-commit: 6821af8b7885870ed0dcb299e4b3cd38695538bc
References: jsc#SLE-8314

Fixes gcc '-Wunused-but-set-variable' warning:

drivers/net/ethernet/sfc/mcdi_functions.c: In function 'efx_mcdi_ev_init':
drivers/net/ethernet/sfc/mcdi_functions.c:79:28: warning:
 variable 'nic_data' set but not used [-Wunused-but-set-variable]

commit 4438b587fe4b ("sfc: move MCDI event queue management code")
introduces this unused variable.

Reported-by: Hulk Robot <hulkci@huawei.com>
Signed-off-by: YueHaibing <yuehaibing@huawei.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/net/ethernet/sfc/mcdi_functions.c |    3 ---
 1 file changed, 3 deletions(-)

--- a/drivers/net/ethernet/sfc/mcdi_functions.c
+++ b/drivers/net/ethernet/sfc/mcdi_functions.c
@@ -76,13 +76,10 @@ int efx_mcdi_ev_init(struct efx_channel
 	MCDI_DECLARE_BUF(outbuf, MC_CMD_INIT_EVQ_V2_OUT_LEN);
 	size_t entries = channel->eventq.buf.len / EFX_BUF_SIZE;
 	struct efx_nic *efx = channel->efx;
-	struct efx_ef10_nic_data *nic_data;
 	size_t inlen, outlen;
 	dma_addr_t dma_addr;
 	int rc, i;
 
-	nic_data = efx->nic_data;
-
 	/* Fill event queue with all ones (i.e. empty events) */
 	memset(channel->eventq.buf.addr, 0xff, channel->eventq.buf.len);
 
