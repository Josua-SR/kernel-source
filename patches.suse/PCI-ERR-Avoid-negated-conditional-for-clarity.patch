From: Sean V Kelley <sean.v.kelley@intel.com>
Date: Thu, 8 Oct 2020 18:19:22 -0500
Subject: PCI/ERR: Avoid negated conditional for clarity
Git-repo: git://git.kernel.org/pub/scm/linux/kernel/git/pci.git#pci/err
Git-commit: 2b1cf66d2ad29c39e91732b7ebad7b14190b47e2
Patch-mainline: Queued in subsystem maintainer repository
References: jsc#SLE-13736 jsc#SLE-14845

Reverse the sense of the Root Port/Downstream Port conditional for clarity.
No functional change intended.

[bhelgaas: split to separate patch]
Link: https://lore.kernel.org/r/20201002184735.1229220-6-seanvk.dev@oregontracks.org
Signed-off-by: Sean V Kelley <sean.v.kelley@intel.com>
Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
Acked-by: Jonathan Cameron <Jonathan.Cameron@huawei.com>
Signed-off-by: Jiri Slaby <jslaby@suse.cz>
---
 drivers/pci/pcie/err.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

--- a/drivers/pci/pcie/err.c
+++ b/drivers/pci/pcie/err.c
@@ -183,13 +183,13 @@ pci_ers_result_t pcie_do_recovery(struct
 	 * runs on the device and anything else under the same Port, i.e.,
 	 * everything under "bridge".
 	 */
-	if (!(type == PCI_EXP_TYPE_ROOT_PORT ||
+	if (type == PCI_EXP_TYPE_ROOT_PORT ||
 	      type == PCI_EXP_TYPE_DOWNSTREAM ||
 	      type == PCI_EXP_TYPE_RC_EC ||
-	      type == PCI_EXP_TYPE_RC_END))
-		bridge = pci_upstream_bridge(dev);
-	else
+	      type == PCI_EXP_TYPE_RC_END)
 		bridge = dev;
+	else
+		bridge = pci_upstream_bridge(dev);
 
 	pci_dbg(bridge, "broadcast error_detected message\n");
 	if (state == pci_channel_io_frozen) {
