From: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Date: Fri, 14 Aug 2020 16:27:26 +0300
Subject: ACPI / PMIC: Move TPS68470 OpRegion driver to drivers/acpi/pmic/
Patch-mainline: v5.10-rc1
Git-commit: e410c43b66d52dde6a4b8554dc85a9dc06e57937
References: jsc#SLE-16407

It is revealed now that TPS68470 OpRegion driver has been added
in slightly different scope. Let's move it to the drivers/acpi/pmic/
folder for sake of the unification.

Signed-off-by: Andy Shevchenko <andriy.shevchenko@linux.intel.com>
Reviewed-by: Mika Westerberg <mika.westerberg@linux.intel.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 drivers/acpi/Kconfig       |   16 ----------------
 drivers/acpi/Makefile      |    1 -
 drivers/acpi/pmic/Kconfig  |   16 ++++++++++++++++
 drivers/acpi/pmic/Makefile |    1 +
 4 files changed, 17 insertions(+), 17 deletions(-)

--- a/drivers/acpi/Kconfig
+++ b/drivers/acpi/Kconfig
@@ -521,22 +521,6 @@ endif
 
 source "drivers/acpi/pmic/Kconfig"
 
-config TPS68470_PMIC_OPREGION
-	bool "ACPI operation region support for TPS68470 PMIC"
-	depends on MFD_TPS68470
-	help
-	  This config adds ACPI operation region support for TI TPS68470 PMIC.
-	  TPS68470 device is an advanced power management unit that powers
-	  a Compact Camera Module (CCM), generates clocks for image sensors,
-	  drives a dual LED for flash and incorporates two LED drivers for
-	  general purpose indicators.
-	  This driver enables ACPI operation region support control voltage
-	  regulators and clocks.
-
-	  This option is a bool as it provides an ACPI operation
-	  region, which must be available before any of the devices
-	  using this, are probed.
-
 endif	# ACPI
 
 config X86_PM_TIMER
--- a/drivers/acpi/Makefile
+++ b/drivers/acpi/Makefile
@@ -110,7 +110,6 @@ obj-$(CONFIG_ACPI_EXTLOG)	+= acpi_extlog
 obj-$(CONFIG_ACPI_CONFIGFS)	+= acpi_configfs.o
 
 obj-y				+= pmic/
-obj-$(CONFIG_TPS68470_PMIC_OPREGION)	+= pmic/tps68470_pmic.o
 
 video-objs			+= acpi_video.o video_detect.o
 obj-y				+= dptf/
--- a/drivers/acpi/pmic/Kconfig
+++ b/drivers/acpi/pmic/Kconfig
@@ -49,3 +49,19 @@ config CHT_DC_TI_PMIC_OPREGION
 	  This config adds ACPI operation region support for Dollar Cove TI PMIC.
 
 endif	# PMIC_OPREGION
+
+config TPS68470_PMIC_OPREGION
+	bool "ACPI operation region support for TPS68470 PMIC"
+	depends on MFD_TPS68470
+	help
+	  This config adds ACPI operation region support for TI TPS68470 PMIC.
+	  TPS68470 device is an advanced power management unit that powers
+	  a Compact Camera Module (CCM), generates clocks for image sensors,
+	  drives a dual LED for flash and incorporates two LED drivers for
+	  general purpose indicators.
+	  This driver enables ACPI operation region support control voltage
+	  regulators and clocks.
+
+	  This option is a bool as it provides an ACPI operation
+	  region, which must be available before any of the devices
+	  using this, are probed.
--- a/drivers/acpi/pmic/Makefile
+++ b/drivers/acpi/pmic/Makefile
@@ -7,3 +7,4 @@ obj-$(CONFIG_XPOWER_PMIC_OPREGION)	+= in
 obj-$(CONFIG_BXT_WC_PMIC_OPREGION)	+= intel_pmic_bxtwc.o
 obj-$(CONFIG_CHT_WC_PMIC_OPREGION)	+= intel_pmic_chtwc.o
 obj-$(CONFIG_CHT_DC_TI_PMIC_OPREGION)	+= intel_pmic_chtdc_ti.o
+obj-$(CONFIG_TPS68470_PMIC_OPREGION)	+= tps68470_pmic.o
