From: Colin Ian King <colin.king@canonical.com>
Date: Tue, 24 Apr 2018 13:36:58 +0100
Subject: net/tls: remove redundant second null check on sgout
Patch-mainline: v4.18-rc1
Git-commit: 95ad7544ad3f6cf585e5b8587e7d520fa3a43ad5
References: bsc#1103990 FATE#326006

A duplicated null check on sgout is redundant as it is known to be
already true because of the identical earlier check. Remove it.
Detected by cppcheck:

net/tls/tls_sw.c:696: (warning) Identical inner 'if' condition is always
true.

Signed-off-by: Colin Ian King <colin.king@canonical.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 net/tls/tls_sw.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

--- a/net/tls/tls_sw.c
+++ b/net/tls/tls_sw.c
@@ -692,8 +692,7 @@ static int decrypt_skb(struct sock *sk,
 	if (!sgout) {
 		nsg = skb_cow_data(skb, 0, &unused) + 1;
 		sgin = kmalloc_array(nsg, sizeof(*sgin), sk->sk_allocation);
-		if (!sgout)
-			sgout = sgin;
+		sgout = sgin;
 	}
 
 	sg_init_table(sgin, nsg);
