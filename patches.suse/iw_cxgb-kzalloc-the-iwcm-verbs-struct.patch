From: Steve Wise <swise@opengridcomputing.com>
Date: Tue, 29 Jan 2019 13:33:07 -0800
Subject: iw_cxgb*: kzalloc the iwcm verbs struct
Patch-mainline: v5.1-rc1
Git-commit: 95b8e384d8c44c6be590636608f61ac7b39101ec
References: bsc#1136348 jsc#SLE-4684

So future additions to that struct get initialized by default.

Signed-off-by: Steve Wise <swise@opengridcomputing.com>
Signed-off-by: Jason Gunthorpe <jgg@mellanox.com>
Acked-by: Thomas Bogendoerfer <tbogendoerfer@suse.de>
---
 drivers/infiniband/hw/cxgb3/iwch_provider.c |    2 +-
 drivers/infiniband/hw/cxgb4/provider.c      |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

--- a/drivers/infiniband/hw/cxgb3/iwch_provider.c
+++ b/drivers/infiniband/hw/cxgb3/iwch_provider.c
@@ -1389,7 +1389,7 @@ int iwch_register_device(struct iwch_dev
 	dev->ibdev.get_port_immutable = iwch_port_immutable;
 	dev->ibdev.get_dev_fw_str = get_dev_fw_ver_str;
 
-	dev->ibdev.iwcm = kmalloc(sizeof(struct iw_cm_verbs), GFP_KERNEL);
+	dev->ibdev.iwcm = kzalloc(sizeof(struct iw_cm_verbs), GFP_KERNEL);
 	if (!dev->ibdev.iwcm)
 		return -ENOMEM;
 
--- a/drivers/infiniband/hw/cxgb4/provider.c
+++ b/drivers/infiniband/hw/cxgb4/provider.c
@@ -610,7 +610,7 @@ void c4iw_register_device(struct work_st
 	dev->ibdev.get_dev_fw_str = get_dev_fw_str;
 	dev->ibdev.get_netdev = get_netdev;
 
-	dev->ibdev.iwcm = kmalloc(sizeof(struct iw_cm_verbs), GFP_KERNEL);
+	dev->ibdev.iwcm = kzalloc(sizeof(struct iw_cm_verbs), GFP_KERNEL);
 	if (!dev->ibdev.iwcm) {
 		ret = -ENOMEM;
 		goto err_dealloc_ctx;
