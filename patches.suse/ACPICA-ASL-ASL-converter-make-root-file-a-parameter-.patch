From: Erik Kaneda <erik.kaneda@intel.com>
Date: Fri, 14 Feb 2020 10:47:56 -0800
Subject: ACPICA: ASL-ASL+ converter: make root file a parameter for
 cv_init_file_tree
Patch-mainline: v5.7-rc1
Git-commit: 9e43f5d544e40d64686a38372d41d8100401d28c
References: jsc#SLE-16407

ACPICA commit 5d160cc86cca440eac7055f981e48bc14d4eb9f7

This decouples cv_init_file_tree from acpi_gbl_output_file and allows
it to be called independently of acpi_os_redirect_output()

Link: https://github.com/acpica/acpica/commit/5d160cc8
Signed-off-by: Erik Kaneda <erik.kaneda@intel.com>
Signed-off-by: Bob Moore <robert.moore@intel.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 drivers/acpi/acpica/acconvert.h |    2 +-
 drivers/acpi/acpica/acmacros.h  |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

--- a/drivers/acpi/acpica/acconvert.h
+++ b/drivers/acpi/acpica/acconvert.h
@@ -65,7 +65,7 @@ void cg_write_aml_comment(union acpi_par
 /*
  * cvparser
  */
-void cv_init_file_tree(struct acpi_table_header *table);
+void cv_init_file_tree(struct acpi_table_header *table, FILE * root_file);
 
 void cv_clear_op_comments(union acpi_parse_object *op);
 
--- a/drivers/acpi/acpica/acmacros.h
+++ b/drivers/acpi/acpica/acmacros.h
@@ -477,7 +477,7 @@
 #define ASL_CV_PRINT_ONE_COMMENT(a,b,c,d) cv_print_one_comment_type (a,b,c,d);
 #define ASL_CV_PRINT_ONE_COMMENT_LIST(a,b) cv_print_one_comment_list (a,b);
 #define ASL_CV_FILE_HAS_SWITCHED(a)       cv_file_has_switched(a)
-#define ASL_CV_INIT_FILETREE(a)      cv_init_file_tree(a);
+#define ASL_CV_INIT_FILETREE(a,b)      cv_init_file_tree(a,b);
 
 #else
 
@@ -492,7 +492,7 @@
 #define ASL_CV_PRINT_ONE_COMMENT(a,b,c,d)
 #define ASL_CV_PRINT_ONE_COMMENT_LIST(a,b)
 #define ASL_CV_FILE_HAS_SWITCHED(a)       0
-#define ASL_CV_INIT_FILETREE(a)
+#define ASL_CV_INIT_FILETREE(a,b)
 
 #endif
 
