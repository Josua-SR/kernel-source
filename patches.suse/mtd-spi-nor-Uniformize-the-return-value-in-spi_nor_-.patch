From: Tudor Ambarus <tudor.ambarus@microchip.com>
Date: Tue, 21 Apr 2020 06:31:31 +0000
Subject: mtd: spi-nor: Uniformize the return value in spi_nor_*_ready()
Git-commit: 8aadd77cd27172988414408f43bb9e5bef01b14d
Patch-mainline: v5.8-rc1
References: jsc#SLE-14214 jsc#SLE-16606

spi_nor_ready() returns 1 if ready, 0 if not ready and -errno on errors.
Do the same in all the spi_nor_*_ready() children.

Signed-off-by: Tudor Ambarus <tudor.ambarus@microchip.com>
Reviewed-by: Vignesh Raghavendra <vigneshr@ti.com>
Signed-off-by: Matthias Brugger <mbrugger@suse.com>
---
 drivers/mtd/spi-nor/core.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/mtd/spi-nor/core.c b/drivers/mtd/spi-nor/core.c
index 757ac0e21554..2fede0667759 100644
--- a/drivers/mtd/spi-nor/core.c
+++ b/drivers/mtd/spi-nor/core.c
@@ -640,7 +640,7 @@ static int spi_nor_fsr_ready(struct spi_nor *nor)
 		return -EIO;
 	}
 
-	return nor->bouncebuf[0] & FSR_READY;
+	return !!(nor->bouncebuf[0] & FSR_READY);
 }
 
 /**
-- 
2.28.0

