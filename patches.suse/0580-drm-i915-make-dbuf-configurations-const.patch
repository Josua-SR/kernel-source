From f3a49c8ae2c81bef45d5dcab93f5ed134d395580 Mon Sep 17 00:00:00 2001
From: Jani Nikula <jani.nikula@intel.com>
Date: Wed, 19 Feb 2020 17:45:42 +0200
Subject: drm/i915: make dbuf configurations const
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Git-commit: f8226d02857b2d950e0f058d6e9c04a3e7df79cf
Patch-mainline: v5.7-rc1
References: jsc#SLE-12680, jsc#SLE-12880, jsc#SLE-12882, jsc#SLE-12883, jsc#SLE-13496, jsc#SLE-15322

Ensure const data goes to rodata.

Fixes: ff2cd8635e41 ("drm/i915: Correctly map DBUF slices to pipes")
Cc: Matt Roper <matthew.d.roper@intel.com>
Cc: Stanislav Lisovskiy <stanislav.lisovskiy@intel.com>
Cc: Ville Syrjälä <ville.syrjala@linux.intel.com>
Reviewed-by: Matt Roper <matthew.d.roper@intel.com>
Signed-off-by: Jani Nikula <jani.nikula@intel.com>
Link: https://patchwork.freedesktop.org/patch/msgid/20200219154542.19574-1-jani.nikula@intel.com
Signed-off-by: Patrik Jakobsson <pjakobsson@suse.de>
---
 drivers/gpu/drm/i915/intel_pm.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/i915/intel_pm.c b/drivers/gpu/drm/i915/intel_pm.c
index ffac0b862ca5..9b74c37e4fa4 100644
--- a/drivers/gpu/drm/i915/intel_pm.c
+++ b/drivers/gpu/drm/i915/intel_pm.c
@@ -4178,7 +4178,7 @@ struct dbuf_slice_conf_entry {
  * as is from BSpec itself - that way it is at least easier
  * to compare, change and check.
  */
-static struct dbuf_slice_conf_entry icl_allowed_dbufs[] =
+static const struct dbuf_slice_conf_entry icl_allowed_dbufs[] =
 /* Autogenerated with igt/tools/intel_dbuf_map tool: */
 {
 	{
@@ -4240,7 +4240,7 @@ static struct dbuf_slice_conf_entry icl_allowed_dbufs[] =
  * as is from BSpec itself - that way it is at least easier
  * to compare, change and check.
  */
-static struct dbuf_slice_conf_entry tgl_allowed_dbufs[] =
+static const struct dbuf_slice_conf_entry tgl_allowed_dbufs[] =
 /* Autogenerated with igt/tools/intel_dbuf_map tool: */
 {
 	{
-- 
2.28.0

