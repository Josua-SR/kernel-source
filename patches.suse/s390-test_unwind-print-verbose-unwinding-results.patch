From: Vasily Gorbik <gor@linux.ibm.com>
Date: Fri, 22 Nov 2019 18:52:40 +0100
Subject: s390/test_unwind: print verbose unwinding results
Git-commit: 0610154650f161d56a0bef0d9678ae1de7360019 (partial)
Patch-mainline: v5.5-rc1
References: jsc#SLE-11050

Add stack name, sp and reliable information into test unwinding
results. Also consider ip outside of kernel text as failure if the
state is reported reliable.

Acked-by: Heiko Carstens <heiko.carstens@de.ibm.com>
Signed-off-by: Vasily Gorbik <gor@linux.ibm.com>
[
  mb: partial backport. Only EXPORT_SYMBOL_GPL so that test_unwind module could
  be built out of tree.
]
Acked-by: Miroslav Benes <mbenes@suse.cz>
---
 arch/s390/kernel/dumpstack.c |    1 +
 1 file changed, 1 insertion(+)

--- a/arch/s390/kernel/dumpstack.c
+++ b/arch/s390/kernel/dumpstack.c
@@ -38,6 +38,7 @@ const char *stack_type_name(enum stack_t
 		return "unknown";
 	}
 }
+EXPORT_SYMBOL_GPL(stack_type_name);
 
 static inline bool in_stack(unsigned long sp, struct stack_info *info,
 			    enum stack_type type, unsigned long low,
