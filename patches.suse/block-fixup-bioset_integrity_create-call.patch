From: Jens Axboe <axboe@kernel.dk>
Date: Wed, 30 May 2018 18:51:21 -0600
Subject: [PATCH] block: fixup bioset_integrity_create() call
Git-commit: 04c4950d5b373ba712d928592e05e73510785bca
Patch-mainline: v4.18-rc1
References: bsc#1104967,FATE#325924

Missed converting the bioset_integrity_create() bounce bio set
call.

Fixes: 338aa96d5661 ("block: convert bounce, q->bio_split to bioset_init()/mempool_init()")
Signed-off-by: Jens Axboe <axboe@kernel.dk>
Acked-by: Hannes Reinecke <hare@suse.com>
---
 block/bounce.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/block/bounce.c b/block/bounce.c
index 7a6c4d50b51c..fd31347b7836 100644
--- a/block/bounce.c
+++ b/block/bounce.c
@@ -46,7 +46,7 @@ static __init int init_emergency_pool(void)
 
 	ret = bioset_init(&bounce_bio_set, BIO_POOL_SIZE, 0, BIOSET_NEED_BVECS);
 	BUG_ON(ret);
-	if (bioset_integrity_create(bounce_bio_set, BIO_POOL_SIZE))
+	if (bioset_integrity_create(&bounce_bio_set, BIO_POOL_SIZE))
 		BUG_ON(1);
 
 	ret = bioset_init(&bounce_bio_split, BIO_POOL_SIZE, 0, 0);
-- 
2.16.4

