From: Yannick Fertre <yannick.fertre@st.com>
Date: Fri, 14 Apr 2017 12:13:31 +0200
Subject: drm/cma: Update DEFINE_DRM_GEM_CMA_FOPS to add get_unmapped_area
Git-commit: 97bf3a9aa60f0d25541738feeb28e39decc41b76
Patch-mainline: v4.13-rc1
References: FATE#326289 FATE#326079 FATE#326049 FATE#322398 FATE#326166

Missing field get_unmapped_area which is necessary with device without MMU

Signed-off-by: Yannick Fertre <yannick.fertre@st.com>
Signed-off-by: Eric Anholt <eric@anholt.net>
Link: http://patchwork.freedesktop.org/patch/msgid/1492164819-10513-2-git-send-email-yannick.fertre@st.com
Reviewed-by: Neil Armstrong <narmstrong@baylibre.com>
Reviewed-by: Eric Anholt <eric@anholt.net>
Acked-by: Petr Tesarik <ptesarik@suse.com>
---
 include/drm/drm_gem_cma_helper.h |    1 +
 1 file changed, 1 insertion(+)

--- a/include/drm/drm_gem_cma_helper.h
+++ b/include/drm/drm_gem_cma_helper.h
@@ -50,6 +50,7 @@ to_drm_gem_cma_obj(struct drm_gem_object
 		.read		= drm_read,\
 		.llseek		= noop_llseek,\
 		.mmap		= drm_gem_cma_mmap,\
+		.get_unmapped_area	= drm_gem_cma_get_unmapped_area,\
 	}
 
 /* free GEM object */
