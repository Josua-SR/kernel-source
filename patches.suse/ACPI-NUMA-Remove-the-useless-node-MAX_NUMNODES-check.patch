From: Hanjun Guo <guohanjun@huawei.com>
Date: Tue, 21 Jul 2020 17:59:06 +0800
Subject: ACPI: NUMA: Remove the useless 'node >= MAX_NUMNODES' check
Patch-mainline: v5.9-rc1
Git-commit: 5b1e80204db6a4e05db3dfb594e8682857af1e69
References: jsc#SLE-16407

acpi_map_pxm_to_node() will never return a NUMA node greater than
MAX_NUMNODES, so the 'node >= MAX_NUMNODES' check is not needed.
Remove it.

Signed-off-by: Hanjun Guo <guohanjun@huawei.com>
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Acked-by: Lee, Chun-Yi <jlee@suse.com>
---
 drivers/acpi/numa/srat.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/drivers/acpi/numa/srat.c
+++ b/drivers/acpi/numa/srat.c
@@ -229,7 +229,7 @@ acpi_numa_memory_affinity_init(struct ac
 		pxm &= 0xff;
 
 	node = acpi_map_pxm_to_node(pxm);
-	if (node == NUMA_NO_NODE || node >= MAX_NUMNODES) {
+	if (node == NUMA_NO_NODE) {
 		pr_err("SRAT: Too many proximity domains.\n");
 		goto out_err_bad_srat;
 	}
