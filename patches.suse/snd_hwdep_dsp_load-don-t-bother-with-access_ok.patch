From 446bd647ceee73fbed50404daece9cbcec751f66 Mon Sep 17 00:00:00 2001
From: Al Viro <viro@zeniv.linux.org.uk>
Date: Thu, 28 Dec 2017 16:30:22 -0500
Subject: [PATCH] snd_hwdep_dsp_load(): don't bother with access_ok()
Git-commit: 446bd647ceee73fbed50404daece9cbcec751f66
Patch-mainline: v4.16-rc1
References: bsc#1121278

the only remaining instance of ->dsp_load() doesn't need it.

Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
Acked-by: Takashi Iwai <tiwai@suse.de>

---
 sound/core/hwdep.c | 2 --
 1 file changed, 2 deletions(-)

diff --git a/sound/core/hwdep.c b/sound/core/hwdep.c
index 8faae3d1455d..25b8f2234fc7 100644
--- a/sound/core/hwdep.c
+++ b/sound/core/hwdep.c
@@ -233,8 +233,6 @@ static int snd_hwdep_dsp_load(struct snd_hwdep *hw,
 	/* check whether the dsp was already loaded */
 	if (hw->dsp_loaded & (1 << info.index))
 		return -EBUSY;
-	if (!access_ok(VERIFY_READ, info.image, info.length))
-		return -EFAULT;
 	err = hw->ops.dsp_load(hw, &info);
 	if (err < 0)
 		return err;
-- 
2.20.1

