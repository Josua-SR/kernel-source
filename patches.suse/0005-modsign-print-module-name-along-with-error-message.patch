From 4f9ed1bb71eb48ec2c4c7d5c31b116e3fe161f36 Mon Sep 17 00:00:00 2001
From: Jessica Yu <jeyu@kernel.org>
Date: Wed, 30 May 2018 10:46:28 +0200
Subject: [PATCH 5/5] modsign: print module name along with error message
Patch-mainline: v5.6-rc1
Git-commit: e9f35f634e099894f4d6c3b039cd3de5281ee637
References: bsc#1093666

It is useful to know which module failed signature verification, so
print the module name along with the error message.

Signed-off-by: Jessica Yu <jeyu@kernel.org>
Acked-by: Jessica Yu <jeyu@suse.de>
---
 kernel/module.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/kernel/module.c
+++ b/kernel/module.c
@@ -2880,7 +2880,7 @@ static int module_sig_check(struct load_
 		reason = "Loading of module with unavailable key";
 	decide:
 		if (is_module_sig_enforced()) {
-			pr_notice("%s is rejected\n", reason);
+			pr_notice("%s: %s is rejected\n", info->name, reason);
 			return -EKEYREJECTED;
 		}
 
