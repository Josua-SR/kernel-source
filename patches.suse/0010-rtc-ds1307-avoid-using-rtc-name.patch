From: Alexandre Belloni <alexandre.belloni@free-electrons.com>
Date: Fri, 2 Jun 2017 14:13:21 +0200
Subject: rtc: ds1307: avoid using rtc-name

Git-commit: 4b9e2a0c0591d2789a43414b8299466800873aea
Patch-mainline: v4.13-rc1
References: fate#326530,fate#326531,fate#326535,fate#326538,fate#326539

ds1307->rtc->name is a copy of ds1307->name, use it instead.

Signed-off-by: Alexandre Belloni <alexandre.belloni@free-electrons.com>
Signed-off-by: Mian Yousaf Kaukab <yousaf.kaukab@suse.com>
---
 drivers/rtc/rtc-ds1307.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/rtc/rtc-ds1307.c b/drivers/rtc/rtc-ds1307.c
index a264938500af..16ace2fb0c0a 100644
--- a/drivers/rtc/rtc-ds1307.c
+++ b/drivers/rtc/rtc-ds1307.c
@@ -1567,7 +1567,7 @@ static int ds1307_probe(struct i2c_client *client,
 		err = devm_request_threaded_irq(ds1307->dev,
 						ds1307->irq, NULL, irq_handler,
 						IRQF_SHARED | IRQF_ONESHOT,
-						ds1307->rtc->name, ds1307);
+						ds1307->name, ds1307);
 		if (err) {
 			client->irq = 0;
 			device_set_wakeup_capable(ds1307->dev, false);
-- 
2.11.0

