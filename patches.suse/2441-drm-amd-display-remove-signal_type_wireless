From: Tony Cheng <tony.cheng@amd.com>
Date: Sat, 14 Jan 2017 20:48:21 -0500
Subject: drm/amd/display: remove SIGNAL_TYPE_WIRELESS
Git-commit: a10eadfb152960a760c4f52c42607d27cb3f1543
Patch-mainline: v4.15-rc1
References: FATE#326289 FATE#326079 FATE#326049 FATE#322398 FATE#326166

Signed-off-by: Tony Cheng <tony.cheng@amd.com>
Reviewed-by: Harry Wentland <Harry.Wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
Acked-by: Petr Tesarik <ptesarik@suse.com>
---
 drivers/gpu/drm/amd/display/dc/basics/log_helpers.c   |    1 -
 drivers/gpu/drm/amd/display/dc/basics/signal_types.c  |    3 +--
 drivers/gpu/drm/amd/display/dc/core/dc_link.c         |    3 ---
 drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.c |    1 -
 drivers/gpu/drm/amd/display/dc/inc/hw/link_encoder.h  |    1 -
 drivers/gpu/drm/amd/display/include/signal_types.h    |    4 ----
 6 files changed, 1 insertion(+), 12 deletions(-)

--- a/drivers/gpu/drm/amd/display/dc/basics/log_helpers.c
+++ b/drivers/gpu/drm/amd/display/dc/basics/log_helpers.c
@@ -44,7 +44,6 @@ static const struct dc_signal_type_info
 		{SIGNAL_TYPE_DISPLAY_PORT,     "DP"},
 		{SIGNAL_TYPE_DISPLAY_PORT_MST, "MST"},
 		{SIGNAL_TYPE_EDP,              "eDP"},
-		{SIGNAL_TYPE_WIRELESS,         "Wireless"},
 		{SIGNAL_TYPE_VIRTUAL,          "Virtual"}
 };
 
--- a/drivers/gpu/drm/amd/display/dc/basics/signal_types.c
+++ b/drivers/gpu/drm/amd/display/dc/basics/signal_types.c
@@ -75,7 +75,6 @@ bool dc_is_audio_capable_signal(enum sig
 {
 	return (signal == SIGNAL_TYPE_DISPLAY_PORT ||
 		signal == SIGNAL_TYPE_DISPLAY_PORT_MST ||
-		dc_is_hdmi_signal(signal) ||
-		signal == SIGNAL_TYPE_WIRELESS);
+		dc_is_hdmi_signal(signal));
 }
 
--- a/drivers/gpu/drm/amd/display/dc/core/dc_link.c
+++ b/drivers/gpu/drm/amd/display/dc/core/dc_link.c
@@ -1051,9 +1051,6 @@ static bool construct(
 		if (link->device_tag.dev_id.device_type == DEVICE_TYPE_LCD
 			&& link->public.connector_signal == SIGNAL_TYPE_RGB)
 			continue;
-		if (link->device_tag.dev_id.device_type == DEVICE_TYPE_WIRELESS
-			&& link->public.connector_signal != SIGNAL_TYPE_WIRELESS)
-			continue;
 		break;
 	}
 
--- a/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.c
+++ b/drivers/gpu/drm/amd/display/dc/dce/dce_link_encoder.c
@@ -941,7 +941,6 @@ bool dce110_link_encoder_construct(
 
 	enc110->base.hpd_source = init_data->hpd_source;
 	enc110->base.connector = init_data->connector;
-	enc110->base.input_signals = SIGNAL_TYPE_ALL;
 
 	enc110->base.preferred_engine = ENGINE_ID_UNKNOWN;
 
--- a/drivers/gpu/drm/amd/display/dc/inc/hw/link_encoder.h
+++ b/drivers/gpu/drm/amd/display/dc/inc/hw/link_encoder.h
@@ -186,7 +186,6 @@ struct link_encoder {
 	struct dc_context *ctx;
 	struct graphics_object_id id;
 	struct graphics_object_id connector;
-	uint32_t input_signals;
 	uint32_t output_signals;
 	enum engine_id preferred_engine;
 	struct encoder_feature_support features;
--- a/drivers/gpu/drm/amd/display/include/signal_types.h
+++ b/drivers/gpu/drm/amd/display/include/signal_types.h
@@ -36,11 +36,7 @@ enum signal_type {
 	SIGNAL_TYPE_DISPLAY_PORT	= (1 << 5),
 	SIGNAL_TYPE_DISPLAY_PORT_MST	= (1 << 6),
 	SIGNAL_TYPE_EDP			= (1 << 7),
-	SIGNAL_TYPE_WIRELESS		= (1 << 8),	/* Wireless Display */
 	SIGNAL_TYPE_VIRTUAL		= (1 << 9),	/* Virtual Display */
-
-	SIGNAL_TYPE_COUNT		= 10,
-	SIGNAL_TYPE_ALL			= (1 << SIGNAL_TYPE_COUNT) - 1
 };
 
 /* help functions for signal types manipulation */
