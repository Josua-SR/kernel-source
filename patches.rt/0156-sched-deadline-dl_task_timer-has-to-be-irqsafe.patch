From: Juri Lelli <juri.lelli@gmail.com>
Date: Tue, 13 May 2014 15:30:20 +0200
Subject: sched/deadline: dl_task_timer has to be irqsafe
Git-repo: git://git.kernel.org/pub/scm/linux/kernel/git/rt/linux-rt-devel.git
Git-commit: 6159707a5b581d7369bda100ace55738d1e3315e
Patch-mainline: Queued in subsystem maintainer repository
References: SLE Realtime Extension

As for rt_period_timer, dl_task_timer has to be irqsafe.

Signed-off-by: Juri Lelli <juri.lelli@gmail.com>
Signed-off-by: Sebastian Andrzej Siewior <bigeasy@linutronix.de>
Signed-off-by: Mike Galbraith <mgalbraith@suse.de>
---
 kernel/sched/deadline.c |    1 +
 1 file changed, 1 insertion(+)

--- a/kernel/sched/deadline.c
+++ b/kernel/sched/deadline.c
@@ -691,6 +691,7 @@ void init_dl_task_timer(struct sched_dl_
 
 	hrtimer_init(timer, CLOCK_MONOTONIC, HRTIMER_MODE_REL);
 	timer->function = dl_task_timer;
+	timer->irqsafe = 1;
 }
 
 /*
