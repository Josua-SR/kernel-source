From: mgorman <mgorman@suse.com>
Date: Wed, 30 Sep 2020 12:39:16 +0100
Subject: [PATCH] locking/lockdep: i915 Remove unused @nested argument from
 lock_release()

References: bsc#1162702
Patch-mainline: Never, patch is merged directly upstream but this avoids conflicts with the SP3 parent branch

Additional callers have been added for mutex_release in i915 after
patches.suse/locking-lockdep-remove-unused-nested-argument-from-lock_release.patch
Due to patch ordering, an additional fixup is required. It could be added
directly to the i915 patch that adds the calls but it causes more patch
ordering issues.

This patch is simply a fixup.

Signed-off-by: Mel Gorman <mgorman@suse.de>
---
 drivers/gpu/drm/i915/gem/i915_gem_shrinker.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

--- a/drivers/gpu/drm/i915/gem/i915_gem_shrinker.c
+++ b/drivers/gpu/drm/i915/gem/i915_gem_shrinker.c
@@ -509,14 +509,14 @@ void i915_gem_shrinker_taints_mutex(stru
 		      I915_MM_SHRINKER, 0, _RET_IP_);
 
 	mutex_acquire(&mutex->dep_map, 0, 0, _RET_IP_);
-	mutex_release(&mutex->dep_map, 0, _RET_IP_);
+	mutex_release(&mutex->dep_map, _RET_IP_);
 
-	mutex_release(&i915->drm.struct_mutex.dep_map, 0, _RET_IP_);
+	mutex_release(&i915->drm.struct_mutex.dep_map, _RET_IP_);
 
 	fs_reclaim_release(GFP_KERNEL);
 
 	if (unlock)
-		mutex_release(&i915->drm.struct_mutex.dep_map, 0, _RET_IP_);
+		mutex_release(&i915->drm.struct_mutex.dep_map, _RET_IP_);
 }
 
 #define obj_to_i915(obj__) to_i915((obj__)->base.dev)
