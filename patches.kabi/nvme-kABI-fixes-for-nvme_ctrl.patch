From: Hannes Reinecke <hare@suse.de>
Date: Thu, 30 Jul 2020 13:55:30 +0200
Subject: [PATCH] nvme: kABI fixes for nvme_ctrl
Patch-Mainline: never, SLES kABI fix
References: bsc#1159058

The kABI checker insisted of marking internal structures, too.

Signed-off-by: Hannes Reinecke <hare@suse.de>
---
 drivers/nvme/host/nvme.h | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/drivers/nvme/host/nvme.h b/drivers/nvme/host/nvme.h
index 1de3f9b827aa..cfdf3f5acda7 100644
--- a/drivers/nvme/host/nvme.h
+++ b/drivers/nvme/host/nvme.h
@@ -263,7 +263,6 @@ struct nvme_ctrl {
 	struct nvme_command ka_cmd;
 	struct work_struct fw_act_work;
 	unsigned long events;
-	bool created;
 
 #ifdef CONFIG_NVME_MULTIPATH
 	/* asymmetric namespace access: */
@@ -300,6 +299,9 @@ struct nvme_ctrl {
 	unsigned long discard_page_busy;
 
 	struct nvme_fault_inject fault_inject;
+#if !defined(GENKSYMS)
+	bool created;
+#endif
 };
 
 enum nvme_iopolicy {
-- 
2.16.4

