From: Miroslav Benes <mbenes@suse.cz>
Subject: s390: kabi workaround for reliable stack tracing
Patch-mainline: Never, kABI workaround
References: jsc#SLE-11178

The patch
patches.suse/s390-livepatch-implement-reliable-stack-tracing-for-the-consistency-model.patch
newly included asm/kprobes.h file in arch/s390/kernel/stacktrace.c, which
defines more structures for present functions and their CRCs change. Add
standard ifdef wrap around the change.

Signed-off-by: Miroslav Benes <mbenes@suse.cz>
---
 arch/s390/kernel/stacktrace.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/arch/s390/kernel/stacktrace.c
+++ b/arch/s390/kernel/stacktrace.c
@@ -13,8 +13,8 @@
 #ifndef __GENKSYMS__
 #include <asm/stacktrace.h>
 #include <asm/unwind.h>
-#endif
 #include <asm/kprobes.h>
+#endif
 
 void arch_stack_walk(stack_trace_consume_fn consume_entry, void *cookie,
 		     struct task_struct *task, struct pt_regs *regs)
